(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5183],{3764:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var s=t(33284);let n={getFAQ:async(e,a)=>(await s.Ay.get("/faq",{headers:{"Accept-Language":e||"en"},params:a})).data,createFAQ:async(e,a)=>(await s.Ay.post("/faq",e,{headers:{"Accept-Language":a||"en"}})).data,updateFAQ:async(e,a)=>(await s.Ay.put("/faq/".concat(e.id),{question:e.question,answer:e.answer,questionTranslations:(null==e?void 0:e.questionTranslations)||{ru:"ru"===a?e.question:"",en:"en"===a?e.question:"",zh:"zh"===a?e.question:""},answerTranslations:(null==e?void 0:e.answerTranslations)||{ru:"ru"===a?e.answer:"",en:"en"===a?e.answer:"",zh:"zh"===a?e.answer:""}},{headers:{"Accept-Language":a||"en"}})).data,deleteFAQ:async(e,a)=>(await s.Ay.delete("/faq/".concat(e),{headers:{"Accept-Language":a||"en"}})).data}},5741:e=>{e.exports={radioButtonContainer:"RadioButtonUI_radioButtonContainer__jy7qs",radioButtonWrapper:"RadioButtonUI_radioButtonWrapper__Ld_9j",hiddenInput:"RadioButtonUI_hiddenInput__L_jg9",radioButtonLabel:"RadioButtonUI_radioButtonLabel__2VtIB",disabled:"RadioButtonUI_disabled__oJF_v",radioButtonCheckmark:"RadioButtonUI_radioButtonCheckmark__sav4V",checked:"RadioButtonUI_checked__o1qWz",checkIcon:"RadioButtonUI_checkIcon__26BkY",labelText:"RadioButtonUI_labelText__vX0ck"}},5896:e=>{e.exports={container__translates:"AdminTranslatesPage_container__translates__8Ntkt",header:"AdminTranslatesPage_header__Gpbz2",title__section:"AdminTranslatesPage_title__section__HEMrR",title:"AdminTranslatesPage_title__Ytzlu",controls__section:"AdminTranslatesPage_controls__section__YKS5P",search__container:"AdminTranslatesPage_search__container__XbTcv",search__input:"AdminTranslatesPage_search__input__6ReT3",language__switcher:"AdminTranslatesPage_language__switcher__q_I8i",language__button:"AdminTranslatesPage_language__button__aa5bs",active:"AdminTranslatesPage_active__Cw_xt",save__button:"AdminTranslatesPage_save__button__ph74z",translate__content:"AdminTranslatesPage_translate__content__jzZYW",content__header:"AdminTranslatesPage_content__header__thOTK",current__language:"AdminTranslatesPage_current__language__Q_Uh1",language__name:"AdminTranslatesPage_language__name__m40Kp",root__actions:"AdminTranslatesPage_root__actions__1OfCZ",fields__container:"AdminTranslatesPage_fields__container__OE25t",nested__section:"AdminTranslatesPage_nested__section__B_CdA",section__header:"AdminTranslatesPage_section__header__5Bonw",section__title:"AdminTranslatesPage_section__title__qnLNd",section__actions:"AdminTranslatesPage_section__actions__NkZ0u",nested__content:"AdminTranslatesPage_nested__content__RAVfe",field__container:"AdminTranslatesPage_field__container__A71kY",field__header:"AdminTranslatesPage_field__header__Pv0V8",field__label:"AdminTranslatesPage_field__label__GGI3G",delete__field__button:"AdminTranslatesPage_delete__field__button__2DiL9",add__button:"AdminTranslatesPage_add__button__UIhVy",delete__button:"AdminTranslatesPage_delete__button__Uko7P",add__form:"AdminTranslatesPage_add__form__wqB9e",slideDown:"AdminTranslatesPage_slideDown__bSRcN",add__input:"AdminTranslatesPage_add__input__Qut3M",add__buttons:"AdminTranslatesPage_add__buttons__Zquc7",confirm__button:"AdminTranslatesPage_confirm__button__J_Ms1",cancel__button:"AdminTranslatesPage_cancel__button__J9Gzm",textarea__field:"AdminTranslatesPage_textarea__field__Au2N6",input__field:"AdminTranslatesPage_input__field__T7kMt",loading:"AdminTranslatesPage_loading__9LJzc",fadeIn:"AdminTranslatesPage_fadeIn__sVgGx",search__highlight:"AdminTranslatesPage_search__highlight__BWZIv",removing:"AdminTranslatesPage_removing__PpHwM",slideUp:"AdminTranslatesPage_slideUp__dEg0O",empty__state:"AdminTranslatesPage_empty__state__ilxNV",empty__icon:"AdminTranslatesPage_empty__icon__iiCI_",empty__message:"AdminTranslatesPage_empty__message__bxzqs"}},16508:(e,a,t)=>{"use strict";t.d(a,{A:()=>c});var s=t(95155),n=t(12115),i=t(56672),r=t(44743),l=t(96554),o=t.n(l),_=t(17652);let c=e=>{let{options:a,selectedValues:t,onChange:l,placeholder:c="Выберите элементы...",disabled:d=!1,direction:u="bottom",isOnlyShow:m=!1,extraClass:h,showSearchInput:g=!1,onSetSearchInput:p,isCategories:x=!1,extraDropListClass:b}=e,v=(0,_.c3)("multiDrop"),[j,f]=(0,n.useState)(!1),[A,w]=(0,n.useState)(""),[N,y]=(0,n.useState)(new Set),C=e=>{var a,t;return"".concat(null==(a=e.value)?void 0:a.toLowerCase(),"_").concat(null==(t=e.label)?void 0:t.toLowerCase())},k=(e,a)=>{if(!a)return!0;let t=a.toLowerCase();return!!e.label.toLowerCase().includes(t)||!!e.children&&e.children.length>0&&e.children.some(e=>k(e,a))},P=function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=[];for(let n of e){let e=[...t,n.id.toString()];if(k(n,a)&&(s.push(e),n.children&&n.children.length>0)){let t=P(n.children,a,e);s.push(...t)}}return s},S=(e,a)=>!a||k(e,a),T=(e,a)=>{if(!a)return e.length;let t=0;for(let s of e)S(s,a)&&t++;return t};(0,n.useEffect)(()=>{if(A&&x){let e=P(a,A),t=new Set;e.forEach(e=>{e.forEach(e=>{t.add(e)})}),y(t)}},[A,x,a]);let D=e=>{let a=C(e);return t.some(e=>C(e)===a)},I=e=>{if(m)return;let a=C(e),s=t.some(e=>C(e)===a)?t.filter(e=>C(e)!==a):[...t,e];console.log("newSelected",s),l(s)},U=e=>{let a=new Set(N);a.has(e)?a.delete(e):a.add(e),y(a)},F=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.filter(e=>S(e,A)).map(e=>{let t=N.has(e.id.toString()),n=e.children&&e.children.length>0,i=D(e);return(0,s.jsxs)("div",{className:o().categoryGroup,children:[(0,s.jsxs)("div",{className:"".concat(o().categoryItem," ").concat(o()["categoryItem--level".concat(a)]," ").concat(i?o().categoryItemSelected:""),style:{paddingLeft:"".concat(12+20*a,"px")},onClick:a=>((e,a)=>{if(m)return;let t=a.target;if(!t.closest(".".concat(o().radioWrapper))){if(t.closest(".".concat(o().expandIcon))){a.stopPropagation(),e.children&&e.children.length>0&&U(e.id.toString());return}a.stopPropagation(),I(e),e.children&&e.children.length>0&&U(e.id.toString())}})(e,a),children:[a>0&&(0,s.jsx)("span",{className:o().levelIndicator,children:"└".repeat(a)}),n&&(0,s.jsx)("span",{className:"".concat(o().expandIcon," ").concat(t?o().expandIconExpanded:""),onClick:a=>{a.stopPropagation(),U(e.id.toString())},children:"▶"}),(e.imageUrl||e.icon)&&(0,s.jsx)("img",{src:e.imageUrl||e.icon,alt:e.label,className:o().categoryImage}),(0,s.jsx)("span",{className:o().categoryLabel,children:e.label}),!m&&(0,s.jsx)("div",{className:o().radioWrapper,children:(0,s.jsx)(r.A,{label:"",name:"category-".concat(e.id),value:"category-".concat(e.id),checked:i,onChange:()=>I(e),allowUnchecked:!0})})]}),n&&t&&(0,s.jsx)("div",{className:o().childrenContainer,children:F(e.children,a+1)})]},e.id)})},V=()=>(0,s.jsxs)("div",{className:"".concat(o().dropdownTitle," ").concat(h," ").concat(m?o().readOnly:""),children:[0===t.length?(0,s.jsx)("span",{className:o().placeholder,children:c}):(0,s.jsx)("div",{className:o().selectedItems,children:t.map((e,a)=>(0,s.jsxs)("span",{className:o().selectedItem,children:[(e.icon||e.imageUrl)&&(0,s.jsx)("img",{src:e.imageUrl||e.icon,alt:"",className:o().itemIcon}),(0,s.jsx)("span",{className:o().itemLabel,children:e.label}),!m&&(0,s.jsx)("button",{className:o().removeButton,onClick:a=>((e,a)=>{if(m)return;a.stopPropagation();let s=C(e);l(t.filter(e=>C(e)!==s))})(e,a),type:"button","aria-label":"Удалить ".concat(e.label),children:(0,s.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M9 3L3 9M3 3L9 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]},"".concat(C(e),"-").concat(a)))}),!m&&(0,s.jsx)("svg",{className:"".concat(o().arrow," ").concat(j?o().arrowUp:""),width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]}),R=()=>(0,s.jsx)("div",{className:o().notFound,children:(0,s.jsxs)("div",{className:o().notFoundContent,children:[(0,s.jsx)("span",{className:o().notFoundIcon,children:"\uD83D\uDD0D"}),(0,s.jsx)("span",{className:o().notFoundText,children:x?v("notFoundCategories"):v("notFoundItems")}),(0,s.jsx)("span",{className:o().notFoundSubtext,children:v("tryChangeSearch")})]})},"not-found"),E=[g&&(0,s.jsx)("input",{type:"text",placeholder:x?v("searchCategories"):v("searchItems"),value:A,onChange:e=>{w(e.target.value),null==p||p(e.target.value)},className:o().cat__search},"search-input"),...x?(()=>{let e=T(a,A);return A&&0===e?[R()]:F(a)})():(()=>{let e=a.filter(e=>e.label.toLowerCase().includes(A.toLowerCase()));return A&&0===e.length?[R()]:e.map((e,a)=>{let t=D(e);return(0,s.jsxs)("div",{className:"".concat(o().optionItem," ").concat(t?o().optionSelected:""),children:[(0,s.jsxs)("div",{className:o().optionContent,onClick:a=>{!m&&(a.target.closest(".".concat(o().radioWrapper))||(a.stopPropagation(),I(e)))},style:m?{cursor:"default"}:void 0,children:[(e.icon||e.imageUrl)&&(0,s.jsx)("img",{src:e.imageUrl||e.icon,alt:"",className:o().optionIcon}),(0,s.jsx)("span",{className:o().optionLabel,children:e.label})]}),!m&&(0,s.jsx)("div",{className:o().radioWrapper,children:(0,s.jsx)(r.A,{label:"",name:"multiselect-option-".concat(e.id,"-").concat(a),value:"option-".concat(e.id,"-").concat(a),checked:t,onChange:()=>I(e),allowUnchecked:!0})})]},"".concat(C(e),"-").concat(a))})})(),...!m&&(x?T(a,A)>0||!A:a.filter(e=>e.label.toLowerCase().includes(A.toLowerCase())).length>0||!A)?[(0,s.jsx)("div",{style:{pointerEvents:"none"},className:o().divider},"divider"),(0,s.jsxs)("div",{className:o().actions,children:[(0,s.jsx)("button",{type:"button",className:o().actionButton,onClick:e=>{e.stopPropagation(),l([]),x&&y(new Set)},disabled:0===t.length,children:v("clearAll")}),(0,s.jsxs)("button",{type:"button",className:"".concat(o().actionButton," ").concat(o().actionButtonPrimary),onClick:e=>{e.stopPropagation(),f(!1)},children:[v("ready")," (",t.length,")"]})]},"actions")]:[]];return m?(0,s.jsx)("div",{style:{cursor:"default"},className:"".concat(o().multiDropSelect," ").concat(o().readOnly," ").concat(d?o().disabled:""),children:(0,s.jsx)(V,{})}):(0,s.jsx)("div",{className:"".concat(o().multiDropSelect," ").concat(d?o().disabled:""),children:(0,s.jsx)(i.A,{extraClass:o().dropList,gap:"0",extraListClass:"".concat(o().dropListContent," ").concat(b),title:(0,s.jsx)(V,{}),isOpen:j,direction:u,onOpenChange:f,items:E})})}},27490:e=>{e.exports={edit__form:"AdminFAQPage_edit__form__uucVV",form__title:"AdminFAQPage_form__title__TXBu3",form__field:"AdminFAQPage_form__field__v0Bxc",form__label:"AdminFAQPage_form__label__QTInU",form__input:"AdminFAQPage_form__input__9qVTi",form__textarea:"AdminFAQPage_form__textarea__HZytA",form__actions:"AdminFAQPage_form__actions__8__pA",save__button:"AdminFAQPage_save__button__2_yB2",cancel__button:"AdminFAQPage_cancel__button__8xe_R",modal__window:"AdminFAQPage_modal__window__pSvik",admin__faq__page:"AdminFAQPage_admin__faq__page__AeooM",header:"AdminFAQPage_header__cGZSU",title:"AdminFAQPage_title__VRPkR",language__switcher:"AdminFAQPage_language__switcher__PBuEB",language__button:"AdminFAQPage_language__button__vO14D",active:"AdminFAQPage_active__HdTcn",add__main__button:"AdminFAQPage_add__main__button__SFLVl",faq__content:"AdminFAQPage_faq__content__WE8f1",current__language:"AdminFAQPage_current__language__D6fpx",language__name:"AdminFAQPage_language__name__Q0ttA",faq__list:"AdminFAQPage_faq__list__JGnNJ",edit__buttons:"AdminFAQPage_edit__buttons__zdS9l",edit__faq__button:"AdminFAQPage_edit__faq__button__tQPUd",empty__state:"AdminFAQPage_empty__state__PUBuS",add__first__button:"AdminFAQPage_add__first__button__IADsV",loading:"AdminFAQPage_loading__PkvFs"}},34546:e=>{e.exports={admin__users__page:"AdminUsersPage_admin__users__page__1U_WT",extra__countries__list:"AdminUsersPage_extra__countries__list__bQLkL",extra_extraDropListClass:"AdminUsersPage_extra_extraDropListClass__wSyU7",extra__role__list:"AdminUsersPage_extra__role__list__k77x9",users__title:"AdminUsersPage_users__title__VpL_G",users__actions:"AdminUsersPage_users__actions__UsXyd",search__user:"AdminUsersPage_search__user__IVGwF",drop__list__extra:"AdminUsersPage_drop__list__extra__J7VIs",users__actions__create:"AdminUsersPage_users__actions__create__x18xJ",users__table:"AdminUsersPage_users__table__v5lr3",table__titles:"AdminUsersPage_table__titles__V8Dfi",table__rows:"AdminUsersPage_table__rows__pK5va",user__row:"AdminUsersPage_user__row__OWLtN",id__text:"AdminUsersPage_id__text__R0_iH",login__box:"AdminUsersPage_login__box__Dp2wP",login__text:"AdminUsersPage_login__text__QgCvy",email__text:"AdminUsersPage_email__text__GK9VY",drop__list__extra__country:"AdminUsersPage_drop__list__extra__country__JAhmJ",drop__list__extra__role:"AdminUsersPage_drop__list__extra__role__RgKkG",drop__list__extra__role__item:"AdminUsersPage_drop__list__extra__role__item__yw7DR",user__row__skeleton:"AdminUsersPage_user__row__skeleton__RyA7j",deleat__button:"AdminUsersPage_deleat__button__RP7ny",edit__button:"AdminUsersPage_edit__button__kNUe8",avatar:"AdminUsersPage_avatar__8I2CR",error__message:"AdminUsersPage_error__message__4CFCh",retry__button:"AdminUsersPage_retry__button__0fFOB",users__count:"AdminUsersPage_users__count__C13py",no__users:"AdminUsersPage_no__users__qNNUb",clear__filters__button:"AdminUsersPage_clear__filters__button__Gkc48",load__more__trigger:"AdminUsersPage_load__more__trigger__UOFwO",hidden:"AdminUsersPage_hidden__PShyf",load__more__content:"AdminUsersPage_load__more__content___Gyj7",modal__dropdown__list__extra:"AdminUsersPage_modal__dropdown__list__extra__92ZQo",modal__dropdown__list__extra__user:"AdminUsersPage_modal__dropdown__list__extra__user__e0ecc",edit__modal:"AdminUsersPage_edit__modal__eZ3QH",modal__content:"AdminUsersPage_modal__content__jj_MC",modal__title:"AdminUsersPage_modal__title__mJr_k",modal__avatar__section:"AdminUsersPage_modal__avatar__section__SVToh",modal__form:"AdminUsersPage_modal__form__XuZAM",form__input:"AdminUsersPage_form__input__VJDoU",modal__dropdowns:"AdminUsersPage_modal__dropdowns__sSpgz",modal__dropdown:"AdminUsersPage_modal__dropdown__sGYZR",modal__actions:"AdminUsersPage_modal__actions__Q_rTl",modal__button:"AdminUsersPage_modal__button__M01zR",ban__button:"AdminUsersPage_ban__button__qUK4A",ban:"AdminUsersPage_ban__dSB42",unban:"AdminUsersPage_unban__n6PCl",modal__main__actions:"AdminUsersPage_modal__main__actions__S1Lsl",cancel__button:"AdminUsersPage_cancel__button__CDa0b",save__button:"AdminUsersPage_save__button__qQNt9",user__edits:"AdminUsersPage_user__edits__07zYf",loading:"AdminUsersPage_loading__cJVur",create__modal:"AdminUsersPage_create__modal__9wmDv",multi__select__section:"AdminUsersPage_multi__select__section___pcf4",multi__select__grid:"AdminUsersPage_multi__select__grid__mkoZR",checkbox__item:"AdminUsersPage_checkbox__item__UXnnC",pulse:"AdminUsersPage_pulse__J3jpJ",load__more__text:"AdminUsersPage_load__more__text__U91rG",load__more__button:"AdminUsersPage_load__more__button__kzM4c"}},36552:e=>{e.exports={admin__tab__bar:"AdminTabBar_admin__tab__bar__7tc2w",tabs__title:"AdminTabBar_tabs__title__r8QYP",admin__tab__bar__inner:"AdminTabBar_admin__tab__bar__inner__LzXCy",admin__tab__bar__inner__item:"AdminTabBar_admin__tab__bar__inner__item__D2C7S"}},44743:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});var s=t(95155),n=t(12115),i=t(5741),r=t.n(i);let l=e=>{let{label:a,extraClassName:t="",extraStyle:i,checked:l=!1,onChange:o,name:_,value:c,disabled:d=!1,required:u=!1,allowUnchecked:m=!1,onCustomClick:h,id:g,textColor:p="white",...x}=e,b=g||"radio-".concat(Math.random().toString(36).substring(2,9)),v=(0,n.useRef)(null);return(0,s.jsx)("div",{className:"".concat(r().radioButtonContainer," ").concat(t),style:i,children:(0,s.jsxs)("div",{className:r().radioButtonWrapper,children:[(0,s.jsx)("input",{ref:v,type:"radio",id:b,name:_,value:c,checked:l,onChange:o,disabled:d,required:u,className:r().hiddenInput,...x}),(0,s.jsxs)("label",{htmlFor:b,className:"".concat(r().radioButtonLabel," ").concat(d?r().disabled:""),onClick:m&&l?e=>{m&&l&&(e.preventDefault(),v.current&&o&&o({target:{name:v.current.name,value:"",checked:!1,type:"radio"},currentTarget:v.current,preventDefault:()=>{},stopPropagation:()=>{}}),h&&h())}:void 0,children:[(0,s.jsx)("span",{className:"\n            ".concat(r().radioButtonCheckmark," \n            ").concat(l?r().checked:"","\n          "),children:l&&(0,s.jsx)("svg",{width:"16",height:"12",viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r().checkIcon,children:(0,s.jsx)("path",{d:"M14.225 0.537476L5.37498 9.38748L1.77498 5.78748L0.724976 6.87498L5.37498 11.4875L15.275 1.58748L14.225 0.537476Z",fill:"white"})})}),a&&(0,s.jsx)("span",{style:{color:"dark"===p?"#2A2E46":"#fff"},className:r().labelText,children:a})]})]})})}},45183:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>ex});var s=t(95155),n=t(12115),i=t(90856),r=t.n(i),l=t(34546),o=t.n(l),_=t(56672),c=t(30383),d=t(40055),u=t(33284),m=t(26715),h=t(95838),g=t(48822);let p=async(e,a,t)=>{let s={page:a.page,size:a.size,sort:a.sort,direction:a.direction};return Object.entries({...a,...t}).forEach(e=>{let[a,t]=e;null==t||""===t||["page","size","sort","direction"].includes(a)||(s[a]=t)}),console.log("Запрос пользователей с параметрами:",s),(await e.get("/user",{params:s})).data},x=function(e){var a,t,s,i,r,l;let o,_,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,d=(0,m.useQueryClient)(),[u,x]=(0,n.useState)({page:0,size:c,sort:"registrationDate",direction:"asc"}),[b,v]=(0,n.useState)({}),[j,f]=(0,n.useState)(!1),{data:A,error:w,isLoading:N,refetch:y}=(0,h.useQuery)({queryKey:(o={...u,...b},_={},["users",{...o,..._}]),queryFn:()=>p(e,{...u,...b},{}),staleTime:3e5,gcTime:6e5,enabled:!j}),{data:C,fetchNextPage:k,hasNextPage:P,isFetchingNextPage:S,isLoading:T,error:D,refetch:I}=(0,g.useInfiniteQuery)({queryKey:["users-infinite",{...u,...b}],queryFn:a=>{let{pageParam:t=0}=a;return p(e,{...u,...b,page:t},{})},initialPageParam:0,getNextPageParam:e=>e.number+1<e.totalPages?e.number+1:void 0,staleTime:3e5,gcTime:6e5,enabled:j}),U=j?(null==C?void 0:C.pages.flatMap(e=>e.content))||[]:(null==A?void 0:A.content)||[],F=j?(null==C||null==(a=C.pages[0])?void 0:a.totalElements)||0:(null==A?void 0:A.totalElements)||0,V=j?(null==C||null==(t=C.pages[0])?void 0:t.totalPages)||0:(null==A?void 0:A.totalPages)||0,R=j?((null==C?void 0:C.pages.length)||1)-1:(null==A?void 0:A.number)||0,E=(0,n.useCallback)(()=>{f(!1),d.resetQueries({queryKey:["users-infinite"]})},[d]),L=(0,n.useCallback)(()=>{if(!j)return void f(!0);P&&!S&&(console.log("Загружаем следующую страницу через infinite query"),k())},[j,k,P,S]),B=(0,n.useCallback)(e=>{v(a=>({...a,...e})),x(e=>({...e,page:0})),f(!1),d.invalidateQueries({queryKey:["users"]}),d.invalidateQueries({queryKey:["users-infinite"]})},[d]),z=(0,n.useCallback)(()=>{v({}),x(e=>({...e,page:0})),f(!1),d.invalidateQueries({queryKey:["users"]}),d.invalidateQueries({queryKey:["users-infinite"]})},[d]),q=(0,n.useCallback)(function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";x(t=>({...t,sort:e,direction:a,page:0})),f(!1),d.invalidateQueries({queryKey:["users"]}),d.invalidateQueries({queryKey:["users-infinite"]})},[d]),M=(0,n.useCallback)(e=>{x(a=>({...a,page:e})),f(!1)},[]),Q=(0,n.useCallback)(async()=>{j?await I():await y()},[j,y,I]),W=j?(null==D||null==(i=D.response)||null==(s=i.data)?void 0:s.message)||(null==D?void 0:D.message)||(D?"Ошибка загрузки пользователей":null):(null==w||null==(l=w.response)||null==(r=l.data)?void 0:r.message)||(null==w?void 0:w.message)||(w?"Ошибка загрузки пользователей":null);return{users:U,loading:j?T:N,error:W,filters:b,totalElements:F,totalPages:V,currentPage:R,hasNextPage:j?P:R+1<V,isFetchingNextPage:S,loadUsers:E,loadMoreUsers:L,setFilters:B,clearFilters:z,setSort:q,setPage:M,refreshUsers:Q}};var b=t(66766),v=t(37220),j=t(86364),f=t(63974),A=t(98935),w=t(16508);let N=["Belarus","Russia","China","Kazakhstan"];function y(e){return null!=e}function C(e){return Array.from(new Set(e))}let k=e=>{var a,t,i,r,l,c,u,m;let{user:h,onUpdateUser:g,onUpdateRole:p,onDeleteUser:x,onBanUser:k,onUnbanUser:P,instance:S}=e,[T,D]=(0,n.useState)(h.region||(null==(i=h.vendorDetails)||null==(t=i.countries)||null==(a=t[0])?void 0:a.name)||(null==(c=h.vendorDetails)||null==(l=c.countries)||null==(r=l[0])?void 0:r.value)||""),[I,U]=(0,n.useState)(h.role),[F,V]=(0,n.useState)(!1),[R,E]=(0,n.useState)(!1),[L,B]=(0,n.useState)({login:"",email:"",phoneNumber:"",region:"",role:"User",inn:"",description:"",countries:[],productCategories:[],sites:[],phoneNumbers:[],emails:[]}),[z,q]=(0,n.useState)([null==h?void 0:h.avatarUrl]),[M,Q]=(0,n.useState)([]),[W,O]=(0,n.useState)([]),[H,K]=(0,n.useState)((null==(m=h.vendorDetails)||null==(u=m.productCategories)?void 0:u.map(e=>String(e.name)).filter(Boolean))||[]),G=(0,n.useMemo)(()=>(function(e){let a=e=>e.map(e=>({id:e.id,value:e.name,label:e.name,imageUrl:e.imageUrl,children:e.children?a(e.children):void 0}));return a(e)})(M),[M]),X=(0,n.useMemo)(()=>(function(e){let a=[],t=e=>{e.forEach(e=>{var s;a.push(e),(null==(s=e.children)?void 0:s.length)&&t(e.children)})};return t(e),a})(G),[G]),Y=(0,n.useMemo)(()=>{let e=new Map;return X.forEach(a=>{null!=a.id&&e.set(String(a.id),a.label)}),e},[X]);(0,n.useEffect)(()=>{if(!H.length||0===Y.size)return;let e=H.map(e=>{var a;return null!=(a=Y.get(e))?a:e});e.some((e,a)=>e!==H[a])&&K(C(e.filter(Boolean)))},[Y]),(0,n.useEffect)(()=>{(async()=>{if("Vendor"===L.role&&0===M.length)try{let e=await f.Ay.getAll("ru");Q(e)}catch(e){console.error("Ошибка загрузки категорий:",e)}})()},[L.role,M.length]);let Z=e=>{U(e),null==p||p(h.id,e)},J=async()=>{if(S&&window.confirm("Вы уверены, что хотите удалить этого пользователя?"))try{E(!0),await S.delete("/user/".concat(h.id)),null==x||x(h.id)}catch(e){console.error("Ошибка при удалении пользователя:",e),alert("Произошла ошибка при удалении пользователя")}finally{E(!1)}},$=async()=>{if(S)try{let e;if(E(!0),"Vendor"===h.role){let a=(e=(await S.get("/vendor/".concat(h.id))).data).vendorDetails||{},t=a.countries||[],s=a.productCategories||[];B({login:e.login||"",email:e.email||"",phoneNumber:e.phoneNumber||"",region:"",role:"Vendor",inn:a.inn||"",description:a.description||"",countries:t.map(e=>e.name).filter(Boolean),productCategories:s.map(e=>e.name).filter(Boolean),sites:a.sites||[],phoneNumbers:a.phoneNumbers||[],emails:a.emails||[]}),O(t.map(e=>e.name).filter(Boolean)),K(s.map(e=>e.name).filter(Boolean))}else e=(await S.get("/user/".concat(h.id))).data,B({login:e.login||"",email:e.email||"",phoneNumber:e.phoneNumber||"",region:e.region||"",role:e.role||"User",inn:"",description:"",countries:[],productCategories:[],sites:[],phoneNumbers:[],emails:[]}),O([]),K([]);V(!0)}catch(e){console.error("Ошибка при получении данных пользователя:",e),alert("Произошла ошибка при загрузке данных пользователя")}finally{E(!1)}},ee=async()=>{if(S)try{E(!0),"Vendor"===L.role?await S.put("/vendor/".concat(h.id),{email:L.email,login:L.login,phoneNumber:L.phoneNumber,inn:L.inn,countries:W,productCategories:H,description:L.description,sites:L.sites,phoneNumbers:L.phoneNumbers,emails:L.emails}):await S.put("/user/".concat(h.id),{email:L.email,region:L.region,login:L.login,phoneNumber:L.phoneNumber});let e={...h,login:L.login,email:L.email,phoneNumber:L.phoneNumber,..."Vendor"!==L.role?{region:L.region}:{},role:L.role};null==g||g(h.id,e),D(L.region),U(L.role),V(!1)}catch(e){console.error("Ошибка при сохранении изменений:",e),alert("Произошла ошибка при сохранении изменений")}finally{E(!1)}},ea=async()=>{if(S)try{E(!0),"Banned"===h.role?(await S.patch("/user/".concat(h.id,"/unban")),null==P||P(h.id)):(await S.patch("/user/".concat(h.id,"/ban")),null==k||k(h.id))}catch(e){console.error("Ошибка при изменении статуса бана:",e),alert("Произошла ошибка при изменении статуса пользователя")}finally{E(!1)}},et=async e=>{if(!S||0===e.length){try{var a;null==S||null==(a=S.delete)||a.call(S,"/user/".concat(h.id,"/avatar"))}catch(e){console.error("Ошибка при удалении аватара:",e)}return}let t=e[0],s=new FormData;s.append("file",t);try{E(!0);let e=await S.put("/user/".concat(h.id,"/avatar"),s,{headers:{"Content-Type":"multipart/form-data"}}),a={...h,avatarUrl:e.data.avatarUrl||e.data.url};null==g||g(h.id,a)}catch(e){console.error("Ошибка при загрузке аватара:",e),alert("Произошла ошибка при загрузке аватара")}finally{E(!1)}},es=(0,n.useMemo)(()=>H.map(e=>X.find(a=>a.label===e||a.value===e)||null).filter(y),[H,X]),en=!h.isEnabled;return(0,s.jsxs)("div",{className:o().user__row,children:[(0,s.jsxs)(v.A,{extraClass:o().edit__modal,isOpen:F,onClose:()=>V(!1),children:[(0,s.jsx)("h3",{className:o().modal__title,children:"Редактирование пользователя"}),(0,s.jsx)("div",{className:o().modal__avatar__section,children:(0,s.jsx)(j.A,{onFilesChange:et,maxFiles:1,inputIdPrefix:"user-".concat(h.id),activeImages:z,onActiveImagesChange:q})}),(0,s.jsxs)("div",{className:o().modal__form,children:[(0,s.jsx)(d.A,{placeholder:"Логин",currentValue:L.login,onSetValue:e=>B(a=>({...a,login:e})),theme:"superWhite",extraClass:o().form__input}),(0,s.jsx)(d.A,{placeholder:"Email",currentValue:L.email,onSetValue:e=>B(a=>({...a,email:e})),theme:"superWhite",extraClass:o().form__input}),(0,s.jsx)(d.A,{placeholder:"Номер телефона",currentValue:L.phoneNumber,onSetValue:e=>B(a=>({...a,phoneNumber:e})),theme:"superWhite",extraClass:o().form__input}),"Vendor"!==L.role&&(0,s.jsx)(_.A,{direction:"right",trigger:"click",safeAreaEnabled:!0,positionIsAbsolute:!0,title:L.region||"Выберите регион",extraClass:"".concat(o().modal__dropdown," ").concat(o().extra__countries__list),items:N.map(e=>(0,s.jsx)("p",{onClick:()=>B(a=>({...a,region:e})),children:e},e))}),"Vendor"===L.role&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.A,{placeholder:"ИНН",currentValue:L.inn||"",onSetValue:e=>B(a=>({...a,inn:e})),theme:"superWhite",extraClass:o().form__input}),(0,s.jsx)(A.A,{placeholder:"Описание компании",currentValue:L.description||"",onSetValue:e=>B(a=>({...a,description:e})),autoResize:!0,maxRows:20,minRows:2,theme:"superWhite"}),(0,s.jsxs)("div",{className:o().array__field__section,children:[(0,s.jsx)("h4",{children:"Сайты компании:"}),(L.sites||[]).map((e,a)=>(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},className:o().array__item,children:[(0,s.jsx)(d.A,{placeholder:"Сайт ".concat(a+1),currentValue:e,onSetValue:e=>B(t=>({...t,sites:(t.sites||[]).map((t,s)=>s===a?e:t)})),theme:"superWhite",extraClass:o().form__input}),(0,s.jsx)("button",{style:{color:"#b02a36",fontSize:"22px"},type:"button",className:o().remove__item__button,onClick:()=>B(e=>({...e,sites:(e.sites||[]).filter((e,t)=>t!==a)})),children:"\xd7"})]},a)),(0,s.jsx)("button",{type:"button",className:o().add__item__button,onClick:()=>B(e=>({...e,sites:[...e.sites||[],""]})),children:"+ Добавить сайт"})]}),(0,s.jsxs)("div",{className:o().array__field__section,children:[(0,s.jsx)("h4",{children:"Дополнительные телефоны:"}),(L.phoneNumbers||[]).map((e,a)=>(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},className:o().array__item,children:[(0,s.jsx)(d.A,{placeholder:"Телефон ".concat(a+1),currentValue:e,onSetValue:e=>B(t=>({...t,phoneNumbers:(t.phoneNumbers||[]).map((t,s)=>s===a?e:t)})),theme:"superWhite",extraClass:o().form__input}),(0,s.jsx)("button",{style:{color:"#b02a36",fontSize:"22px"},type:"button",className:o().remove__item__button,onClick:()=>B(e=>({...e,phoneNumbers:(e.phoneNumbers||[]).filter((e,t)=>t!==a)})),children:"\xd7"})]},a)),(0,s.jsx)("button",{type:"button",className:o().add__item__button,onClick:()=>B(e=>({...e,phoneNumbers:[...e.phoneNumbers||[],""]})),children:"+ Добавить телефон"})]}),(0,s.jsxs)("div",{className:o().array__field__section,children:[(0,s.jsx)("h4",{children:"Дополнительные Email'ы:"}),(L.emails||[]).map((e,a)=>(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},className:o().array__item,children:[(0,s.jsx)(d.A,{placeholder:"Email ".concat(a+1),currentValue:e,onSetValue:e=>B(t=>({...t,emails:(t.emails||[]).map((t,s)=>s===a?e:t)})),theme:"superWhite",extraClass:o().form__input}),(0,s.jsx)("button",{style:{color:"#b02a36",fontSize:"22px"},type:"button",className:o().remove__item__button,onClick:()=>B(e=>({...e,emails:(e.emails||[]).filter((e,t)=>t!==a)})),children:"\xd7"})]},a)),(0,s.jsx)("button",{type:"button",className:o().add__item__button,onClick:()=>B(e=>({...e,emails:[...e.emails||[],""]})),children:"+ Добавить Email"})]}),(0,s.jsxs)("div",{className:o().multi__select__section,children:[(0,s.jsx)("h4",{children:"Страны работы:"}),(0,s.jsx)("div",{className:o().multi__select__grid,children:N.map(e=>(0,s.jsxs)("label",{className:o().checkbox__item,children:[(0,s.jsx)("input",{type:"checkbox",checked:W.includes(e),onChange:()=>(e=>{O(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])})(e)}),(0,s.jsx)("span",{children:e})]},e))})]}),M.length>0&&(0,s.jsxs)("div",{style:{zIndex:"100000"},className:o().multi__select__section,children:[(0,s.jsx)("h4",{children:"Категории товаров:"}),(0,s.jsx)(w.A,{extraDropListClass:o().extra_extraDropListClass,showSearchInput:!0,isOnlyShow:!1,extraClass:o().profile__region__dropdown__extra,options:G,isCategories:!0,selectedValues:es,onChange:e=>{K(C(e.map(e=>e.label||e.value).filter(Boolean)))},placeholder:"Выберите категории товаров",direction:"bottom"})]})]}),(0,s.jsx)("div",{className:o().modal__dropdowns,children:(0,s.jsx)(_.A,{direction:"right",trigger:"click",safeAreaEnabled:!0,positionIsAbsolute:!0,title:L.role,color:"white",extraStyle:{backgroundColor:"user"===L.role.toLowerCase()?"#1FC13A":"admin"===L.role.toLowerCase()?"#ECC414":"#C8313E"},extraClass:"".concat(o().modal__dropdown," ").concat(o().extra__role__list),items:[(0,s.jsx)("p",{onClick:()=>B(e=>({...e,role:"User"})),children:"User"},1),(0,s.jsx)("p",{onClick:()=>B(e=>({...e,role:"Admin"})),children:"Admin"},2),(0,s.jsx)("p",{onClick:()=>B(e=>({...e,role:"Vendor"})),children:"Vendor"},3)]})}),(0,s.jsxs)("div",{className:o().modal__actions,children:[(0,s.jsx)("button",{className:"".concat(o().modal__button," ").concat(o().ban__button," ").concat(en?o().unban:o().ban),onClick:ea,disabled:R,children:en?"Разбанить":"Забанить"}),(0,s.jsxs)("div",{className:o().modal__main__actions,children:[(0,s.jsx)("button",{className:"".concat(o().modal__button," ").concat(o().cancel__button),onClick:()=>V(!1),disabled:R,children:"Отмена"}),(0,s.jsx)("button",{className:"".concat(o().modal__button," ").concat(o().save__button),onClick:ee,disabled:R,children:R?"Сохранение...":"Сохранить"})]})]})]})]}),(0,s.jsx)("div",{className:"".concat(o().id__text),children:h.id}),(0,s.jsxs)("div",{className:"".concat(o().login__box),children:[(0,s.jsx)("div",{style:{backgroundImage:"url(".concat(h.avatarUrl?h.avatarUrl:"/avatars/avatar-v.svg",")")},className:"".concat(o().avatar)}),(0,s.jsxs)("div",{style:{color:en?"#C8313E":"#000"},className:"".concat(o().login__text),children:[en?"BAN":""," ",h.login]})]}),(0,s.jsx)("div",{className:"".concat(o().email__text),children:h.email}),(0,s.jsx)(_.A,{direction:"bottom",trigger:"hover",safeAreaEnabled:!0,positionIsAbsolute:!1,title:T,extraStyle:{minWidth:"fit-content"},extraClass:o().drop__list__extra__country,items:N.map(e=>(0,s.jsx)("p",{onClick:()=>(e=>{D(e),null==g||g(h.id,{...h,..."Vendor"!==L.role?{region:e}:{}})})(e),children:e},e))}),(0,s.jsx)(_.A,{direction:"bottom",trigger:"hover",safeAreaEnabled:!0,positionIsAbsolute:!1,title:I,color:"white",extraStyle:{backgroundColor:"user"===I.toLowerCase()?"#1FC13A":"admin"===I.toLowerCase()?"#ECC414":"banned"===I.toLowerCase()?"#666666":"#C8313E"},extraClass:o().drop__list__extra__role,items:[(0,s.jsx)("p",{className:o().drop__list__extra__role__item,onClick:()=>Z("User"),children:"User"},1),(0,s.jsx)("p",{className:o().drop__list__extra__role__item,onClick:()=>Z("Admin"),children:"Admin"},2),(0,s.jsx)("p",{className:o().drop__list__extra__role__item,onClick:()=>Z("Vendor"),children:"Vendor"},3)]}),(0,s.jsxs)("div",{className:o().user__edits,children:[(0,s.jsx)("div",{className:"".concat(o().deleat__button," ").concat(R?o().loading:""),onClick:J,children:(0,s.jsx)(b.default,{src:"/admin/trash.svg",alt:"trash",width:15,height:17})}),(0,s.jsx)("div",{className:"".concat(o().edit__button," ").concat(R?o().loading:""),onClick:$,children:(0,s.jsx)(b.default,{src:"/admin/edit.svg",alt:"edit",width:15,height:17})})]})]})},P=["Belarus","Russia","China","Kazakhstan"],S=[{label:"Без фильтров",value:void 0},{label:"Сначала новые",value:"desc"},{label:"Сначала старые",value:"asc"}],T=e=>{let{onLoadMore:a,hasMore:t}=e,i=(0,n.useRef)(null),[r,l]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{if(!t)return void l(!1);let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(console.log("Intersection Observer: Элемент попал в зону видимости (500px от низа экрана)"),a())})},{rootMargin:"0px 0px 500px 0px",threshold:.1});return i.current&&e.observe(i.current),()=>{i.current&&e.unobserve(i.current)}},[a,t]),r&&t)?(0,s.jsx)("div",{ref:i,className:o().load__more__trigger,children:(0,s.jsxs)("div",{className:o().load__more__content,children:[(0,s.jsx)("p",{className:o().load__more__text,children:"Подгружаем больше пользователей..."}),(0,s.jsx)("button",{className:o().load__more__button,onClick:()=>{console.log("Ручной дозапрос пользователей"),a()},children:"Сделать дозапрос"})]})}):null},D=()=>{let{users:e,loading:a,error:t,filters:i,totalElements:r,hasNextPage:l,loadMoreUsers:m,setFilters:h,setSort:g,clearFilters:p,refreshUsers:b}=x(u.Ay,10),[A,w]=(0,n.useState)(""),[N,y]=(0,n.useState)("Без фильтров"),[C,D]=(0,n.useState)("Без фильтров"),[I,U]=(0,n.useState)(!1),[F,V]=(0,n.useState)(!1),[R,E]=(0,n.useState)({login:"",email:"",password:"",phoneNumber:"",region:"",role:"User",inn:"",countries:[],productCategories:[]}),[L,B]=(0,n.useState)([]),[z,q]=(0,n.useState)([]),[M,Q]=(0,n.useState)([]),[W,O]=(0,n.useState)([]),[H,K]=(0,n.useState)(void 0);(0,n.useEffect)(()=>{(async()=>{if("Vendor"===R.role&&0===z.length)try{let e=await f.Ay.getAll("ru");q(e)}catch(e){console.error("Ошибка загрузки категорий:",e)}})()},[R.role,z.length]);let G=async(e,a)=>{try{console.log("Обновление пользователя ".concat(e,":"),a),await u.Ay.put("/user/".concat(e),{email:a.email,region:a.region,login:a.login,phoneNumber:a.phoneNumber}),await b()}catch(e){console.error("Ошибка обновления пользователя:",e)}},X=async(e,a)=>{try{await u.Ay.patch("/user/".concat(e,"/role"),{role:a}),await b()}catch(e){console.error("ошибка при изменении роли пользователя")}},Y=async()=>{try{m()}catch(e){console.error("Ошибка дозагрузки пользователей:",e)}},Z=async()=>{if(!R.login.trim()||!R.email.trim()||!R.password.trim())return void alert("Заполните обязательные поля");try{V(!0),"Vendor"===R.role?await u.Ay.post("/auth/force-register-vendor",{email:R.email,login:R.login,password:R.password,phoneNumber:R.phoneNumber,inn:R.inn,countries:M,productCategories:W}):await u.Ay.post("/auth/force-register",{email:R.email,login:R.login,password:R.password,region:R.region,phoneNumber:R.phoneNumber}),E({login:"",email:"",password:"",phoneNumber:"",region:"",role:"User",inn:"",countries:[],productCategories:[]}),Q([]),O([]),B([]),U(!1),await b()}catch(e){console.error("Ошибка создания пользователя:",e),alert("Произошла ошибка при создании пользователя")}finally{V(!1)}};return(0,n.useEffect)(()=>{"Vendor"!==R.role&&(Q([]),O([]),E(e=>({...e,inn:"",countries:[],productCategories:[]})))},[R.role]),(0,s.jsxs)("div",{className:o().admin__users__page,children:[(0,s.jsx)("p",{className:o().users__title,children:"Пользователи"}),(0,s.jsxs)(v.A,{extraClass:o().create__modal,isOpen:I,onClose:()=>U(!1),children:[(0,s.jsx)("h3",{className:o().modal__title,children:"Создание пользователя"}),(0,s.jsx)("div",{className:o().modal__avatar__section,children:(0,s.jsx)(j.A,{onFilesChange:e=>{console.log("Загружены файлы:",e)},maxFiles:1,inputIdPrefix:"create-user",activeImages:L,onActiveImagesChange:B})}),(0,s.jsxs)("div",{className:o().modal__form,children:[(0,s.jsx)(d.A,{placeholder:"Логин",currentValue:R.login,onSetValue:e=>E(a=>({...a,login:e})),theme:"superWhite",extraClass:o().form__input}),(0,s.jsx)(d.A,{placeholder:"Email",currentValue:R.email,onSetValue:e=>E(a=>({...a,email:e})),theme:"superWhite",extraClass:o().form__input}),(0,s.jsx)(d.A,{placeholder:"Пароль",currentValue:R.password,onSetValue:e=>E(a=>({...a,password:e})),theme:"superWhite",extraClass:o().form__input}),(0,s.jsx)(d.A,{placeholder:"Номер телефона",currentValue:R.phoneNumber,onSetValue:e=>E(a=>({...a,phoneNumber:e})),theme:"superWhite",extraClass:o().form__input}),(0,s.jsx)("div",{className:o().modal__dropdowns,children:(0,s.jsx)(_.A,{direction:"right",trigger:"click",safeAreaEnabled:!0,positionIsAbsolute:!0,title:R.role,color:"white",extraStyle:{backgroundColor:"user"===R.role.toLowerCase()?"#1FC13A":"admin"===R.role.toLowerCase()?"#ECC414":"#C8313E"},extraClass:"".concat(o().modal__dropdown," ").concat(o().modal__dropdown__list__extra__user),items:[(0,s.jsx)("p",{onClick:()=>E(e=>({...e,role:"User"})),children:"User"},1),(0,s.jsx)("p",{onClick:()=>E(e=>({...e,role:"Admin"})),children:"Admin"},2),(0,s.jsx)("p",{onClick:()=>E(e=>({...e,role:"Vendor"})),children:"Vendor"},3)]})}),"Vendor"!==R.role&&(0,s.jsx)(_.A,{direction:"right",extraStyle:{maxWidth:"fit-content"},trigger:"click",safeAreaEnabled:!0,positionIsAbsolute:!1,extraListClass:o().modal__dropdown__list__extra,title:R.region||"Выберите регион",extraClass:o().modal__dropdown,items:P.map(e=>(0,s.jsx)("p",{onClick:()=>E(a=>({...a,region:e})),children:e},e))}),"Vendor"===R.role&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.A,{placeholder:"ИНН",currentValue:R.inn||"",onSetValue:e=>E(a=>({...a,inn:e})),theme:"superWhite",extraClass:o().form__input}),(0,s.jsxs)("div",{className:o().multi__select__section,children:[(0,s.jsx)("h4",{children:"Страны работы:"}),(0,s.jsx)("div",{className:o().multi__select__grid,children:P.map(e=>(0,s.jsxs)("label",{className:o().checkbox__item,children:[(0,s.jsx)("input",{type:"checkbox",checked:M.includes(e),onChange:()=>(e=>{Q(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])})(e)}),(0,s.jsx)("span",{children:e})]},e))})]}),z.length>0&&(0,s.jsxs)("div",{className:o().multi__select__section,children:[(0,s.jsx)("h4",{children:"Категории товаров:"}),(0,s.jsx)("div",{className:o().multi__select__grid,children:z.map(e=>(0,s.jsxs)("label",{className:o().checkbox__item,children:[(0,s.jsx)("input",{type:"checkbox",checked:W.includes(e.id.toString()),onChange:()=>(e=>{O(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])})(e.id.toString())}),(0,s.jsx)("span",{children:e.name})]},e.id))})]})]}),(0,s.jsx)("div",{className:o().modal__actions,children:(0,s.jsxs)("div",{className:o().modal__main__actions,children:[(0,s.jsx)("button",{className:"".concat(o().modal__button," ").concat(o().cancel__button),onClick:()=>U(!1),disabled:F,children:"Отмена"}),(0,s.jsx)("button",{className:"".concat(o().modal__button," ").concat(o().save__button),onClick:Z,disabled:F,children:F?"Создание...":"Создать"})]})})]})]}),t&&(0,s.jsxs)("div",{className:o().error__message,children:["Ошибка: ",t,(0,s.jsx)("button",{onClick:b,className:o().retry__button,children:"Повторить"})]}),(0,s.jsxs)("div",{className:o().users__actions,children:[(0,s.jsx)(d.A,{extraClass:o().search__user,placeholder:"Имя...",currentValue:A,onSetValue:e=>{w(e),e.trim()?h({login:e.trim()}):h({login:void 0})},theme:"superWhite"}),(0,s.jsx)(_.A,{direction:"bottom",extraListClass:o().extra__list__style,extraClass:o().drop__list__extra,positionIsAbsolute:!0,title:N,items:["Без фильтров","Админы","Покупатели","Продавцы"].map(e=>(0,s.jsx)("p",{onClick:()=>(e=>{switch(y(e),e){case"Админы":h({role:"admin"});break;case"Покупатели":h({role:"user"});break;case"Продавцы":h({role:"vendor"});break;default:h({role:void 0})}})(e),children:e},e))}),(0,s.jsx)(_.A,{direction:"bottom",extraListClass:o().extra__list__style,extraClass:o().drop__list__extra,positionIsAbsolute:!0,title:C,items:S.map(e=>(0,s.jsx)("p",{onClick:()=>(e=>{D(e);let a=S.find(a=>a.label===e),t=null==a?void 0:a.value;K(t),t?g("registrationDate",t):g("registrationDate",void 0)})(e.label),children:e.label},e.label))}),(0,s.jsx)("div",{className:o().users__actions__create,onClick:()=>U(!0),children:"Создать"}),(0,s.jsxs)("div",{className:o().users__count,children:["Найдено: ",r," пользователей"]})]}),(0,s.jsxs)("div",{className:o().users__table,children:[(0,s.jsx)("div",{className:o().table__titles,children:["ID","Имя","Почта","Страна","Роль","Изменить"].map(e=>(0,s.jsx)("div",{children:e},e))}),(0,s.jsxs)("div",{className:o().table__rows,children:[!a&&e.map(e=>(0,s.jsx)(k,{user:e,instance:u.Ay,onUpdateRole:X,onUpdateUser:G},e.id)),!a&&0===e.length&&(0,s.jsxs)("div",{className:o().no__users,children:[(0,s.jsx)("p",{children:"Пользователи не найдены"}),Object.keys(i).length>0&&(0,s.jsx)("button",{onClick:p,className:o().clear__filters__button,children:"Очистить фильтры"})]}),a&&[1,2,3,4,5].map(e=>(0,s.jsx)(c.A,{className:o().user__row__skeleton,width:"100%",height:80},e)),!a&&e.length>0&&(0,s.jsx)(T,{onLoadMore:Y,hasMore:l})]})]})]})};var I=t(35695),U=t(75081),F=t(29795),V=t(36552),R=t.n(V),E=t(6874),L=t.n(E);let B={users:"/admin/user.svg",cards:"/admin/cards.svg",ads:"/admin/ads.svg",faq:"/admin/faq.svg",categories:"/admin/categoryes.svg",translates:"/admin/lang.svg",reviews:"/admin/comment.svg"},z=()=>(0,s.jsxs)("div",{className:R().admin__tab__bar,children:[(0,s.jsx)("p",{className:R().tabs__title,children:"Управление"}),(0,s.jsxs)("div",{className:R().admin__tab__bar__inner,children:[(0,s.jsx)(L(),{href:"/admin/users",children:(0,s.jsxs)("div",{className:R().admin__tab__bar__inner__item,children:[(0,s.jsx)(b.default,{className:"".concat(R().admin__tab__image),src:B.users,alt:"users",width:19,height:23}),(0,s.jsx)("p",{children:"Пользователи"})]})}),(0,s.jsx)(L(),{href:"/admin/cards",children:(0,s.jsxs)("div",{className:R().admin__tab__bar__inner__item,children:[(0,s.jsx)(b.default,{className:"".concat(R().admin__tab__image),src:B.cards,alt:"cards",width:21,height:21}),(0,s.jsx)("p",{children:"Товары"})]})}),(0,s.jsx)(L(),{href:"/admin/ads",children:(0,s.jsxs)("div",{className:R().admin__tab__bar__inner__item,children:[(0,s.jsx)(b.default,{className:"".concat(R().admin__tab__image),src:B.ads,alt:"ads",width:20,height:15}),(0,s.jsx)("p",{children:"Реклама"})]})}),(0,s.jsx)(L(),{href:"/admin/faq",children:(0,s.jsxs)("div",{className:R().admin__tab__bar__inner__item,children:[(0,s.jsx)(b.default,{className:"".concat(R().admin__tab__image),src:B.faq,alt:"faq",width:22,height:22}),(0,s.jsx)("p",{children:"FAQ"})]})}),(0,s.jsx)(L(),{href:"/admin/reviews",children:(0,s.jsxs)("div",{className:R().admin__tab__bar__inner__item,children:[(0,s.jsx)(b.default,{className:"".concat(R().admin__tab__image),src:B.reviews,alt:"reviews",width:22,height:22}),(0,s.jsx)("p",{children:"Отзывы"})]})}),(0,s.jsx)(L(),{href:"/admin/categories",children:(0,s.jsxs)("div",{className:R().admin__tab__bar__inner__item,children:[(0,s.jsx)(b.default,{className:"".concat(R().admin__tab__image),src:B.categories,alt:"categories",width:21,height:21}),(0,s.jsx)("p",{children:"Категории"})]})}),(0,s.jsx)(L(),{href:"/admin/translates",children:(0,s.jsxs)("div",{className:R().admin__tab__bar__inner__item,children:[(0,s.jsx)(b.default,{className:"".concat(R().admin__tab__image),src:B.translates,alt:"translates",width:19,height:19}),(0,s.jsx)("p",{children:"Переводы"})]})})]})]});var q=t(5896),M=t.n(q),Q=t(56671),W=t(17652);let O=()=>{let[e,a]=(0,n.useState)({}),[t,i]=(0,n.useState)({}),[r,l]=(0,n.useState)({}),[o,_]=(0,n.useState)(!0),[c,m]=(0,n.useState)("ru"),[h,g]=(0,n.useState)(""),[p,x]=(0,n.useState)(""),[b,v]=(0,n.useState)(""),[j,f]=(0,n.useState)(null),w=(0,W.c3)("HomePage");(0,n.useEffect)(()=>{(async()=>{try{let e=await u.Rh.get("localization/ru"),t=await u.Rh.get("localization/en"),s=await u.Rh.get("localization/zh");a(e.data),i(t.data),l(s.data),console.log(e.data)}catch(e){console.error("Error fetching translations:",e)}finally{_(!1)}})()},[]);let N=()=>{switch(c){case"ru":default:return e;case"en":return t;case"zh":return r}},y=e=>{switch(c){case"ru":a(e);break;case"en":i(e);break;case"zh":l(e)}},C=(e,a)=>{y(((e,a,t)=>{let s={...e},n=s;for(let e=0;e<a.length-1;e++)"object"==typeof n[a[e]]&&(n[a[e]]={...n[a[e]]}),n=n[a[e]];return n[a[a.length-1]]=t,s})(N(),e,a))},k=e=>{y(((e,a)=>{let t={...e},s=t;for(let e=0;e<a.length-1;e++)"object"==typeof s[a[e]]&&(s[a[e]]={...s[a[e]]}),s=s[a[e]];return delete s[a[a.length-1]],t})(N(),e)),Q.o.success("Элемент удален")},P=(e,a)=>{if(!p.trim())return void Q.o.error("Введите название ключа");y(((e,a,t,s)=>{let n={...e},i=n;for(let e=0;e<a.length;e++)"object"==typeof i[a[e]]?i[a[e]]={...i[a[e]]}:e<a.length-1&&(i[a[e]]={}),e<a.length-1&&(i=i[a[e]]);return 0===a.length?i[t]=s:i[a[a.length-1]][t]=s,n})(N(),e,p,"string"===a?b:{})),x(""),v(""),f(null),Q.o.success("".concat("string"===a?"Строка":"Объект"," добавлен"))},S=function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!a.trim())return!0;let s=a.toLowerCase();return Object.entries(e).some(e=>{let[n,i]=e,r=[...t,n],l=r.join(".");return"string"==typeof i?n.toLowerCase().includes(s)||i.toLowerCase().includes(s)||l.toLowerCase().includes(s):"object"==typeof i&&null!==i&&(n.toLowerCase().includes(s)||l.toLowerCase().includes(s)||S(i,a,r))})},T=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.entries(e).filter(e=>{let[t,s]=e;if(!h.trim())return!0;let n=[...a,t];if("object"==typeof s&&null!==s)return S({[t]:s},h,a);{let e=n.join("."),a=h.toLowerCase();return t.toLowerCase().includes(a)||String(s).toLowerCase().includes(a)||e.toLowerCase().includes(a)}}).map(e=>{let[t,n]=e,i=[...a,t],r=i.join(".");if("object"==typeof n&&null!==n)return(0,s.jsxs)("div",{className:M().nested__section,children:[(0,s.jsxs)("div",{className:M().section__header,children:[(0,s.jsx)("h3",{className:M().section__title,children:t}),(0,s.jsxs)("div",{className:M().section__actions,children:[(0,s.jsx)("button",{className:M().add__button,onClick:()=>f({path:i,type:"string"}),title:"Добавить строку",children:"+ Строка"}),(0,s.jsx)("button",{className:M().add__button,onClick:()=>f({path:i,type:"object"}),title:"Добавить объект",children:"+ Объект"}),(0,s.jsx)("button",{className:M().delete__button,onClick:()=>k(i),title:"Удалить раздел",children:"\uD83D\uDDD1️"})]})]}),(null==j?void 0:j.path.join("."))===i.join(".")&&(0,s.jsxs)("div",{className:M().add__form,children:[(0,s.jsx)(d.A,{currentValue:p,placeholder:"Название ключа",onSetValue:x,theme:"superWhite",extraClass:M().add__input}),"string"===j.type&&(0,s.jsx)(d.A,{currentValue:b,placeholder:"Значение",onSetValue:v,theme:"superWhite",extraClass:M().add__input}),(0,s.jsxs)("div",{className:M().add__buttons,children:[(0,s.jsx)("button",{className:M().confirm__button,onClick:()=>P(i,j.type),children:"Добавить"}),(0,s.jsx)("button",{className:M().cancel__button,onClick:()=>f(null),children:"Отмена"})]})]}),(0,s.jsx)("div",{className:M().nested__content,children:T(n,i)})]},r);{let e=String(n),a=e.length>50;return(0,s.jsxs)("div",{className:M().field__container,children:[(0,s.jsxs)("div",{className:M().field__header,children:[(0,s.jsx)("label",{className:M().field__label,children:r}),(0,s.jsx)("button",{className:M().delete__field__button,onClick:()=>k(i),title:"Удалить поле",children:"✕"})]}),a?(0,s.jsx)(A.A,{currentValue:e,placeholder:"Введите текст для ".concat(r),onSetValue:e=>C(i,e),theme:"superWhite",extraClass:M().textarea__field}):(0,s.jsx)(d.A,{currentValue:e,placeholder:"Введите текст для ".concat(r),onSetValue:e=>C(i,e),theme:"superWhite",extraClass:M().input__field})]},r)}})},D=async()=>{let e=Q.o.loading("Сохранение переводов...");try{_(!0);let a=await u.Ay.post("/localization/".concat(c),N());console.log("Saving translations for",c,a),Q.o.dismiss(e),Q.o.success((0,s.jsxs)("div",{style:{lineHeight:1.5,marginLeft:"10px"},children:[(0,s.jsx)("strong",{style:{display:"block",marginBottom:4,fontSize:"18px"},children:"Поздравляем!"}),(0,s.jsx)("span",{children:"Переводы успешно сохранены"})]}),{style:{background:"#2E7D32"}})}catch(a){Q.o.dismiss(e),console.error("Error saving translations:",a),Q.o.error((0,s.jsxs)("div",{style:{lineHeight:1.5},children:[(0,s.jsx)("strong",{style:{display:"block",marginBottom:4},children:"Ошибка при сохранении переводов"}),(0,s.jsxs)("span",{children:["Ошибка – ",a.message]})]}),{style:{background:"#AC2525"}})}finally{Q.o.dismiss(e),_(!1)}};return o?(0,s.jsx)("div",{className:M().loading,children:"Загрузка переводов..."}):(0,s.jsxs)("div",{className:M().container__translates,children:[(0,s.jsxs)("div",{className:M().header,children:[(0,s.jsxs)("div",{className:M().title__section,children:[(0,s.jsx)("h1",{className:M().title,children:"Редактирование переводов"}),(0,s.jsxs)("p",{style:{marginTop:"15px"},children:["HomePage.title – тестовое поле – ",w("title")]})]}),(0,s.jsxs)("div",{className:M().controls__section,children:[(0,s.jsx)("div",{className:M().search__container,children:(0,s.jsx)(d.A,{currentValue:h,placeholder:"Поиск по переводам...",onSetValue:g,theme:"superWhite",extraClass:M().search__input})}),(0,s.jsxs)("div",{className:M().language__switcher,children:[(0,s.jsx)("button",{className:"".concat(M().language__button," ").concat("ru"===c?M().active:""),onClick:()=>m("ru"),children:"Русский"}),(0,s.jsx)("button",{className:"".concat(M().language__button," ").concat("en"===c?M().active:""),onClick:()=>m("en"),children:"English"}),(0,s.jsx)("button",{className:"".concat(M().language__button," ").concat("zh"===c?M().active:""),onClick:()=>m("zh"),children:"中文"})]}),(0,s.jsx)("button",{className:M().save__button,onClick:D,disabled:o,children:o?"Сохранение...":"Сохранить переводы"})]})]}),(0,s.jsxs)("div",{className:M().translate__content,children:[(0,s.jsxs)("div",{className:M().content__header,children:[(0,s.jsxs)("div",{className:M().current__language,children:["Редактирование:"," ",(0,s.jsx)("span",{className:M().language__name,children:"ru"===c?"Русский":"en"===c?"English":"中文"})]}),(0,s.jsxs)("div",{className:M().root__actions,children:[(0,s.jsx)("button",{className:M().add__button,onClick:()=>f({path:[],type:"string"}),children:"+ Добавить строку"}),(0,s.jsx)("button",{className:M().add__button,onClick:()=>f({path:[],type:"object"}),children:"+ Добавить раздел"})]})]}),(null==j?void 0:j.path.length)===0&&(0,s.jsxs)("div",{className:M().add__form,children:[(0,s.jsx)(d.A,{currentValue:p,placeholder:"Название ключа",onSetValue:x,theme:"superWhite",extraClass:M().add__input}),"string"===j.type&&(0,s.jsx)(d.A,{currentValue:b,placeholder:"Значение",onSetValue:v,theme:"superWhite",extraClass:M().add__input}),(0,s.jsxs)("div",{className:M().add__buttons,children:[(0,s.jsx)("button",{className:M().confirm__button,onClick:()=>P([],j.type),children:"Добавить"}),(0,s.jsx)("button",{className:M().cancel__button,onClick:()=>f(null),children:"Отмена"})]})]}),(0,s.jsx)("div",{className:M().fields__container,children:T(N())})]})]})};var H=t(42315),K=t(61530),G=t.n(K),X=t(53973);let Y=e=>{let{initialProducts:a,hasMore:t}=e;return(0,s.jsxs)("div",{className:G().container__cards,children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("h1",{className:G().admin__cards__title,children:"Товары"}),(0,s.jsx)(H.A,{})]}),(0,s.jsx)(X.A,{isForAdmin:!0,extraButtonsBoxClass:G().extraButtonsBoxClass,canCreateNewProduct:!0,initialProducts:a||[],initialHasMore:!0})]})};var Z=t(59692),J=t.n(Z);let $=()=>{let[e,a]=(0,n.useState)("ru"),[t,i]=(0,n.useState)(null),[r,l]=(0,n.useState)(!1),[o,_]=(0,n.useState)(new Set),c=(0,f.k6)(),u=(0,f.GK)(),m=(0,f.bZ)(),h=(0,f.xZ)(),g=()=>c[e].data||[],p=c.isLoading||u.isPending||m.isPending||h.isPending,x=e=>{i({slug:"",name:"",children:[],parentId:null!=e?e:null,okvedString:"",okvedCategories:[]}),l(!0)},b=async()=>{if(t)try{let a={en:"",ru:"",zh:""};a[e]=t.name;let s=(t.okvedString||"").split(",").map(e=>e.trim()).filter(e=>e.length>0),n={name:t.name,slug:t.slug.replace(/^(l[1-5]_)+/,""),parentId:t.parentId||null,nameTranslations:a,okvedCategories:s,image:t.image};console.log("payload save",n),r?(await u.mutateAsync(n),alert("Категория создана успешно!")):t.id&&(await m.mutateAsync({...n,id:t.id}),alert("Категория обновлена успешно!")),i(null),l(!1)}catch(e){console.error("Error saving category:",e),alert("Ошибка при сохранении категории")}},v=async e=>{if(confirm("Вы уверены, что хотите удалить эту категорию?"))try{await h.mutateAsync(e),alert("Категория удалена успешно!")}catch(e){console.error("Error deleting category:",e),alert("Ошибка при удалении категории")}},A=()=>{i(null),l(!1)},w=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0,n=o.has(e.id),r=e.children&&e.children.length>0;return(0,s.jsxs)("div",{className:J().category__item,children:[(0,s.jsxs)("div",{className:"".concat(J().category__header," ").concat(J()["level__".concat(a)]),style:{paddingLeft:"".concat(20*a,"px")},children:[r&&(0,s.jsx)("button",{className:"".concat(J().expand__button," ").concat(n?J().expanded:""),onClick:()=>(e=>{let a=new Set(o);a.has(e)?a.delete(e):a.add(e),_(a)})(e.id),"aria-label":n?"Свернуть категорию":"Развернуть категорию",children:"▶"}),0===a&&e.imageUrl&&(0,s.jsx)("img",{src:e.imageUrl,alt:e.name,className:J().category__image}),(0,s.jsxs)("div",{className:J().category__info,children:[(0,s.jsx)("span",{className:J().category__name,children:e.name}),(0,s.jsxs)("span",{className:J().category__slug,children:["/",e.slug]}),e.okved&&e.okved.length>0&&(0,s.jsxs)("div",{style:{fontSize:"13px"},className:J().category__okved,children:["ОКВЭД: ",e.okved.join(", ")]})]}),(0,s.jsxs)("div",{className:J().category__actions,children:[(0,s.jsx)("button",{className:J().edit__button,onClick:()=>{i({id:e.id,slug:e.slug,name:e.name,imageUrl:e.imageUrl,children:e.children,parentId:null!=t?t:null,okvedString:(e.okved||[]).join(", "),okvedCategories:e.okved||[]}),l(!1)},disabled:p,children:"Редактировать"}),(0,s.jsx)("button",{className:J().add__button,onClick:()=>x(e.id),disabled:p,children:"Добавить подкатегорию"}),(0,s.jsx)("button",{className:J().delete__button,onClick:()=>v(e.id),disabled:p,children:"Удалить"})]})]}),r&&n&&(0,s.jsx)("div",{className:J().category__children,children:e.children.map(t=>w(t,a+1,e.id))})]},e.id)};if(c.isLoading&&!t)return(0,s.jsx)("div",{className:J().loading,children:"Загрузка категорий..."});if(c.isError){var N;return(0,s.jsxs)("div",{className:J().error,children:[(0,s.jsxs)("p",{children:["Ошибка при загрузке категорий: ",null==(N=c.error)?void 0:N.message]}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),children:"Перезагрузить"})]})}return(0,s.jsxs)("div",{className:J().admin__categories__page,children:[(0,s.jsxs)("div",{className:J().header,children:[(0,s.jsx)("h1",{className:J().title,children:"Управление категориями"}),(0,s.jsxs)("div",{className:J().language__switcher,children:[(0,s.jsx)("button",{className:"".concat(J().language__button," ").concat("ru"===e?J().active:""),onClick:()=>a("ru"),disabled:p,children:"Русский"}),(0,s.jsx)("button",{className:"".concat(J().language__button," ").concat("en"===e?J().active:""),onClick:()=>a("en"),disabled:p,children:"English"}),(0,s.jsx)("button",{className:"".concat(J().language__button," ").concat("zh"===e?J().active:""),onClick:()=>a("zh"),disabled:p,children:"中文"})]}),(0,s.jsx)("button",{className:J().add__main__button,onClick:()=>x(),disabled:p,children:"Добавить категорию"})]}),(0,s.jsxs)("div",{className:J().categories__content,children:[(0,s.jsxs)("div",{className:J().current__language,children:["Редактирование категорий:"," ",(0,s.jsx)("span",{className:J().language__name,children:"ru"===e?"Русский":"en"===e?"English":"中文"})]}),(0,s.jsx)("div",{className:J().categories__list,children:g().map(e=>w(e))}),0===g().length&&!c.isLoading&&(0,s.jsxs)("div",{className:J().empty__state,children:[(0,s.jsx)("p",{children:"Категории не найдены"}),(0,s.jsx)("button",{className:J().add__first__button,onClick:()=>x(),disabled:p,children:"Создать первую категорию"})]})]}),(()=>{if(!t)return null;let e=!t.parentId,a=t.okvedString||"";return(0,s.jsx)("div",{className:J().edit__form__overlay,children:(0,s.jsxs)("div",{className:J().edit__form,children:[(0,s.jsx)("h3",{className:J().form__title,children:r?"Создание категории":"Редактирование категории"}),(0,s.jsxs)("div",{className:J().form__field,children:[(0,s.jsx)("label",{className:J().form__label,children:"Название категории"}),(0,s.jsx)(d.A,{currentValue:t.name,placeholder:"Введите название категории",onSetValue:e=>i({...t,name:e}),theme:"superWhite",extraClass:J().form__input})]}),(0,s.jsxs)("div",{className:J().form__field,children:[(0,s.jsx)("label",{className:J().form__label,children:"Slug (URL)"}),(0,s.jsx)(d.A,{currentValue:t.slug,placeholder:"Введите slug категории",onSetValue:e=>i({...t,slug:e}),theme:"superWhite",extraClass:J().form__input})]}),(0,s.jsxs)("div",{className:J().form__field,children:[(0,s.jsx)("label",{className:J().form__label,children:"ОКВЭД коды (через запятую)"}),(0,s.jsx)(d.A,{inputType:"text",currentValue:a,onSetValue:e=>{t&&i({...t,okvedString:e})},placeholder:"Введите ОКВЭД коды через запятую (например: 01.11, 01.12, 47.19)",theme:"superWhite",disabled:p})]}),e&&(0,s.jsxs)("div",{className:J().form__field,children:[(0,s.jsx)("label",{className:J().form__label,children:"Изображение категории (горизонтальное)"}),(0,s.jsx)(j.A,{extraClass:J().admin__categories__page__images,maxFiles:1,inputIdPrefix:"category",onActiveImagesChange:e=>{e.length>0?i({...t,imageUrl:e[0]}):i({...t,imageUrl:void 0})},activeImages:t.imageUrl?[t.imageUrl]:[],onFilesChange:e=>{e.length>0?i({...t,image:e[0]}):i({...t,image:void 0})}})]}),(0,s.jsxs)("div",{className:J().form__actions,children:[(0,s.jsx)("button",{className:J().save__button,onClick:b,disabled:p||!t.name||!t.slug,children:p?"Сохранение...":"Сохранить"}),(0,s.jsx)("button",{className:J().cancel__button,onClick:A,disabled:p,children:"Отмена"})]})]})})})()]})};var ee=t(45600),ea=t.n(ee),et=t(71747),es=t(11518),en=t.n(es);let ei=e=>{let{selectedDate:a="",onDateSelect:t,minDate:i,maxDate:r,placeholder:l="Выберите дату",disabled:o=!1,className:_=""}=e,[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(new Date),[h,g]=(0,n.useState)(a?new Date(a):null);(0,n.useEffect)(()=>{if(a){let e=new Date(a);g(e),m(new Date(e.getFullYear(),e.getMonth(),1))}},[a]);let p=e=>e?e.toISOString().split("T")[0]:"",x=e=>{if(o)return!0;let a=p(e);return!!i&&!!(a<i)||!!r&&!!(a>r)},b=e=>{m(a=>{let t=new Date(a);return"prev"===e?t.setMonth(t.getMonth()-1):t.setMonth(t.getMonth()+1),t})},v=e=>{m(a=>{let t=new Date(a);return"prev"===e?t.setFullYear(t.getFullYear()-1):t.setFullYear(t.getFullYear()+1),t})},j=(e=>{let a=e.getFullYear(),t=e.getMonth(),s=new Date(a,t,1),n=new Date(a,t+1,0).getDate(),i=s.getDay();i=0===i?6:i-1;let r=[];for(let e=0;e<i;e++)r.push(null);for(let e=1;e<=n;e++)r.push(new Date(a,t,e));return r})(u);return(0,s.jsxs)("div",{className:"jsx-dca2f05ac6e5798e "+"calendar-container ".concat(_),children:[(0,s.jsxs)("div",{onClick:()=>!o&&d(!c),className:"jsx-dca2f05ac6e5798e "+"calendar-input ".concat(o?"disabled":""),children:[(0,s.jsx)("span",{className:"jsx-dca2f05ac6e5798e "+((h?"selected":"placeholder")||""),children:(e=>e?e.toLocaleDateString("ru-RU"):l)(h)}),(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"jsx-dca2f05ac6e5798e "+"calendar-icon ".concat(c?"rotated":""),children:(0,s.jsx)("path",{d:"M8 2V6M16 2V6M3 10H21M5 4H19C20.1046 4 21 4.89543 21 6V20C21 21.1046 20.1046 22 19 22H5C3.89543 22 3 21.1046 3 20V6C3 4.89543 3.89543 4 5 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-dca2f05ac6e5798e"})})]}),c&&(0,s.jsxs)("div",{className:"jsx-dca2f05ac6e5798e calendar-dropdown",children:[(0,s.jsxs)("div",{className:"jsx-dca2f05ac6e5798e calendar-header",children:[(0,s.jsxs)("div",{className:"jsx-dca2f05ac6e5798e calendar-nav",children:[(0,s.jsx)("button",{type:"button",onClick:()=>v("prev"),className:"jsx-dca2f05ac6e5798e nav-button year-nav",children:"‹‹"}),(0,s.jsx)("button",{type:"button",onClick:()=>b("prev"),className:"jsx-dca2f05ac6e5798e nav-button",children:"‹"})]}),(0,s.jsx)("div",{className:"jsx-dca2f05ac6e5798e calendar-title",children:(0,s.jsxs)("span",{className:"jsx-dca2f05ac6e5798e month-year",children:[["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"][u.getMonth()]," ",u.getFullYear()]})}),(0,s.jsxs)("div",{className:"jsx-dca2f05ac6e5798e calendar-nav",children:[(0,s.jsx)("button",{type:"button",onClick:()=>b("next"),className:"jsx-dca2f05ac6e5798e nav-button",children:"›"}),(0,s.jsx)("button",{type:"button",onClick:()=>v("next"),className:"jsx-dca2f05ac6e5798e nav-button year-nav",children:"››"})]})]}),(0,s.jsx)("div",{className:"jsx-dca2f05ac6e5798e calendar-weekdays",children:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"].map(e=>(0,s.jsx)("div",{className:"jsx-dca2f05ac6e5798e weekday",children:e},e))}),(0,s.jsx)("div",{className:"jsx-dca2f05ac6e5798e calendar-days",children:j.map((e,a)=>(0,s.jsx)("div",{className:"jsx-dca2f05ac6e5798e day-cell",children:e&&(0,s.jsx)("button",{type:"button",onClick:()=>(e=>{x(e)||(g(e),t(p(e)),d(!1))})(e),disabled:x(e),className:"jsx-dca2f05ac6e5798e "+"day-button ".concat(h&&e.toDateString()===h.toDateString()?"selected":""," ").concat((e=>{let a=new Date;return e.toDateString()===a.toDateString()})(e)?"today":""," ").concat(x(e)?"disabled":""),children:e.getDate()})},a))})]}),(0,s.jsx)(en(),{id:"dca2f05ac6e5798e",children:'.calendar-container.jsx-dca2f05ac6e5798e{position:relative;width:100%;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif}.calendar-input.jsx-dca2f05ac6e5798e{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border:2px solid#e1e5e9;border-radius:12px;background:#fff;cursor:pointer;transition:all.2s ease;min-height:48px;box-sizing:border-box}.calendar-input.jsx-dca2f05ac6e5798e:hover:not(.disabled){border-color:#4f46e5;box-shadow:0 0 0 3px rgba(79,70,229,.1)}.calendar-input.disabled.jsx-dca2f05ac6e5798e{background:#f8f9fa;border-color:#e9ecef;cursor:not-allowed;opacity:.6}.calendar-input.jsx-dca2f05ac6e5798e .selected.jsx-dca2f05ac6e5798e{color:#1a1a1a;font-weight:500}.calendar-input.jsx-dca2f05ac6e5798e .placeholder.jsx-dca2f05ac6e5798e{color:#6b7280}.calendar-icon.jsx-dca2f05ac6e5798e{color:#6b7280;transition:transform.2s ease;flex-shrink:0}.calendar-icon.rotated.jsx-dca2f05ac6e5798e{transform:rotate(180deg)}.calendar-dropdown.jsx-dca2f05ac6e5798e{position:absolute;top:100%;left:0;right:0;z-index:1000;background:#fff;border:1px solid#e1e5e9;border-radius:16px;box-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 10px 10px -5px rgba(0,0,0,.04);margin-top:8px;padding:20px;animation:slideDown.2s ease}@keyframes slideDown{from{opacity:0;transform:translatey(-10px)}to{opacity:1;transform:translatey(0)}}.calendar-header.jsx-dca2f05ac6e5798e{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.calendar-nav.jsx-dca2f05ac6e5798e{display:flex;gap:4px}.nav-button.jsx-dca2f05ac6e5798e{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:none;background:#f8f9fa;border-radius:8px;cursor:pointer;font-size:16px;color:#374151;transition:all.2s ease}.nav-button.jsx-dca2f05ac6e5798e:hover{background:#e5e7eb;color:#1f2937}.nav-button.year-nav.jsx-dca2f05ac6e5798e{font-weight:bold;font-size:14px}.calendar-title.jsx-dca2f05ac6e5798e{flex:1;text-align:center}.month-year.jsx-dca2f05ac6e5798e{font-size:18px;font-weight:600;color:#1a1a1a}.calendar-weekdays.jsx-dca2f05ac6e5798e{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-bottom:8px}.weekday.jsx-dca2f05ac6e5798e{display:flex;align-items:center;justify-content:center;height:32px;font-size:12px;font-weight:600;color:#6b7280;text-transform:uppercase}.calendar-days.jsx-dca2f05ac6e5798e{display:grid;grid-template-columns:repeat(7,1fr);gap:4px}.day-cell.jsx-dca2f05ac6e5798e{display:flex;align-items:center;justify-content:center;height:40px}.day-button.jsx-dca2f05ac6e5798e{width:36px;height:36px;border:none;background:transparent;border-radius:8px;cursor:pointer;font-size:14px;font-weight:500;color:#374151;transition:all.2s ease;display:flex;align-items:center;justify-content:center}.day-button.jsx-dca2f05ac6e5798e:hover:not(.disabled){background:#f3f4f6;color:#1f2937}.day-button.today.jsx-dca2f05ac6e5798e{background:#ddd6fe;color:#5b21b6;font-weight:600}.day-button.selected.jsx-dca2f05ac6e5798e{background:#4f46e5;color:#fff;font-weight:600}.day-button.selected.jsx-dca2f05ac6e5798e:hover{background:#4338ca}.day-button.disabled.jsx-dca2f05ac6e5798e{color:#d1d5db;cursor:not-allowed;background:transparent}.day-button.disabled.jsx-dca2f05ac6e5798e:hover{background:transparent;color:#d1d5db}'})]})},er=()=>{let e=(0,I.usePathname)(),[a,t]=(0,n.useState)([]),[i,r]=(0,n.useState)(!0),[l,o]=(0,n.useState)("ru"),[_,c]=(0,n.useState)(""),[m,h]=(0,n.useState)(!1),[g,p]=(0,n.useState)(null),[x,b]=(0,n.useState)(!1),[v,f]=(0,n.useState)({title:"",titleTranslations:{ru:"",en:"",zh:""},subtitle:"",subtitleTranslations:{ru:"",en:"",zh:""},thirdText:"",thirdTextTranslations:{ru:"",en:"",zh:""},link:"",expiresAt:"",isBig:!1,uploadedFiles:[],activeImages:[]}),[A,w]=(0,n.useState)({}),N=(()=>{let a=e.split("/")[1];return["ru","en","zh"].includes(a)?a:"ru"})();(0,n.useEffect)(()=>{o(N),y()},[N]);let y=async()=>{try{let e=await u.Ay.get("/advertisements",{headers:{"x-language":N,"Accept-Language":N}});t(e.data)}catch(e){console.error("Error fetching ads:",e),Q.o.error("Ошибка при загрузке объявлений")}finally{r(!1)}},C=()=>{f({title:"",titleTranslations:{ru:"",en:"",zh:""},subtitle:"",subtitleTranslations:{ru:"",en:"",zh:""},thirdText:"",thirdTextTranslations:{ru:"",en:"",zh:""},link:"",expiresAt:"",isBig:!1,uploadedFiles:[],activeImages:[]}),w({}),p(null),h(!1)},k=()=>{var e,a,t;let s={};if((null==(e=v.titleTranslations[N])?void 0:e.trim())||(s.title="Заголовок на ".concat(R(N)," обязателен")),(null==(a=v.subtitleTranslations[N])?void 0:a.trim())||(s.subtitle="Подзаголовок на ".concat(R(N)," обязателен")),(null==(t=v.link)?void 0:t.trim())||(s.link="Ссылка обязательна"),v.expiresAt){let e=new Date(v.expiresAt),a=new Date;a.setHours(0,0,0,0),isNaN(e.getTime())?s.expiresAt="Некорректный формат даты":e<a&&(s.expiresAt="Дата истечения не может быть в прошлом")}return g||v.uploadedFiles&&0!==v.uploadedFiles.length||(s.uploadedFiles="Необходимо загрузить изображение"),w(s),0===Object.keys(s).length},P=e=>e?new Date(e+"T12:00:00.000Z").toISOString():"",S=async()=>{if(!k())return;let e=Q.o.loading("Создание объявления...");try{let a=await (0,et.iD)(),t=new FormData,s={title:v.titleTranslations[N]||"",subtitle:v.subtitleTranslations[N]||"",thirdText:v.thirdTextTranslations[N]||"",expirationDate:v.expiresAt?P(v.expiresAt):null,isBig:v.isBig,titleTranslations:v.titleTranslations,subtitleTranslations:v.subtitleTranslations,thirdTextTranslations:v.thirdTextTranslations,link:v.link||"linknew"},n=new Blob([JSON.stringify(s)],{type:"application/json"});if(t.append("data",n),v.uploadedFiles&&v.uploadedFiles.length>0)t.append("image",v.uploadedFiles[0]);else if(!g){Q.o.error("Изображение обязательно для создания объявления"),Q.o.dismiss(e);return}let i=await fetch("".concat("https://exporteru.com","/api/v1/advertisements"),{method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:t});if(!i.ok){let e=await i.text();throw Error("HTTP error! status: ".concat(i.status,", message: ").concat(e))}let r=await i.json();console.log(r),Q.o.dismiss(e),Q.o.success("Объявление успешно создано"),C(),y()}catch(a){Q.o.dismiss(e),console.error("Error creating ad:",a),Q.o.error("Ошибка при создании объявления")}},T=async()=>{if(!k()||!g)return;let e=Q.o.loading("Обновление объявления...");try{let a=await (0,et.iD)(),t=new FormData,s={title:v.titleTranslations[N]||"",titleTranslations:v.titleTranslations,subtitle:v.subtitleTranslations[N]||"",subtitleTranslations:v.subtitleTranslations,thirdText:v.thirdTextTranslations[N]||"",thirdTextTranslations:v.thirdTextTranslations,expirationDate:v.expiresAt?P(v.expiresAt):null,isBig:v.isBig,link:v.link||""},n=new Blob([JSON.stringify(s)],{type:"application/json"});t.append("data",n),v.uploadedFiles&&v.uploadedFiles.length>0&&t.append("image",v.uploadedFiles[0]);let i=await fetch("".concat("https://exporteru.com","/api/v1/advertisements/").concat(g),{method:"PUT",headers:{Authorization:"Bearer ".concat(a)},body:t});if(!i.ok){let e=await i.text();throw Error("HTTP error! status: ".concat(i.status,", message: ").concat(e))}let r=await i.json();console.log(r),Q.o.dismiss(e),Q.o.success("Объявление успешно обновлено"),C(),y()}catch(a){Q.o.dismiss(e),console.error("Error updating ad:",a),Q.o.error("Ошибка при обновлении объявления")}},D=async e=>{if(!confirm("Вы уверены, что хотите удалить это объявление?"))return;let a=Q.o.loading("Удаление объявления...");try{await u.Ay.delete("/advertisements/".concat(e)),Q.o.dismiss(a),Q.o.success("Объявление успешно удалено"),y()}catch(e){Q.o.dismiss(a),console.error("Error deleting ad:",e),Q.o.error("Ошибка при удалении объявления")}},U=(e,a)=>(e["".concat(a,"Translations")]||{})[l]||e[a]||"",F=a.filter(e=>{if(_.trim()){let a=_.toLowerCase(),t=U(e,"title").toLowerCase(),s=U(e,"subtitle").toLowerCase(),n=U(e,"thirdText").toLowerCase();if(!(t.includes(a)||s.includes(a)||n.includes(a)))return!1}return!x||!!e.isBig}),V=(e,a,t)=>{f(s=>({...s,[e]:{...s[e],[a]:t}}))};if(i)return(0,s.jsx)("div",{style:{width:"100%"},className:ea().loading,children:"Загрузка объявлений..."});let R=e=>{switch(e){case"ru":return"Русский";case"en":return"English";case"zh":return"中文";default:return""}},E=e=>!!e&&new Date(e)<new Date;return(0,s.jsxs)("div",{className:ea().container__ads,children:[(0,s.jsxs)("div",{className:ea().header,children:[(0,s.jsxs)("div",{className:ea().title__section,children:[(0,s.jsx)("h1",{className:ea().title,children:"Управление рекламными объявлениями"}),(0,s.jsxs)("p",{style:{marginTop:"15px"},children:["Всего объявлений: ",a.length," | Важных: ",a.filter(e=>e.isBig).length," | Текущий язык:"," ",(0,s.jsx)("strong",{children:R(N)})]})]}),(0,s.jsxs)("div",{className:ea().controls__section,children:[(0,s.jsx)("div",{className:ea().search__container,children:(0,s.jsx)(d.A,{currentValue:_,placeholder:"Поиск по объявлениям...",onSetValue:c,theme:"superWhite"})}),(0,s.jsxs)("div",{className:ea().filter__controls,children:[(0,s.jsx)("span",{className:ea().filter__label,children:"Фильтры:"}),(0,s.jsx)("button",{className:"".concat(ea().filter__button," ").concat(x?ea().active:""),onClick:()=>b(!x),children:"⭐ Только важные"})]}),(0,s.jsx)("div",{className:ea().language__switcher,children:["ru","en","zh"].map(e=>(0,s.jsxs)("button",{className:"".concat(ea().language__button," ").concat(l===e?ea().active:""),onClick:()=>o(e),children:[R(e),e===N&&(0,s.jsx)("span",{className:ea().primary__indicator,children:"★"})]},e))}),(0,s.jsx)("button",{className:ea().create__button,onClick:()=>h(!0),children:"+ Создать объявление"})]})]}),m&&(0,s.jsxs)("div",{className:ea().create__form,children:[(0,s.jsxs)("div",{className:ea().form__header,children:[(0,s.jsx)("h2",{className:ea().form__title,children:g?"Редактирование объявления":"Создание объявления"}),(0,s.jsx)("button",{className:ea().close__button,onClick:C,children:"✕"})]}),(0,s.jsxs)("div",{className:ea().form__content,children:[[N,...["ru","en","zh"].filter(e=>e!==N)].map(e=>(0,s.jsxs)("div",{className:ea().form__section,children:[(0,s.jsxs)("h3",{className:ea().section__title,children:["Переводы (",R(e),")",e===N&&(0,s.jsx)("span",{className:ea().required__indicator,children:" (Обязательно)"}),e!==N&&(0,s.jsx)("span",{className:ea().optional__indicator,children:" (Необязательно)"})]}),(0,s.jsxs)("div",{className:ea().input__group,children:[(0,s.jsxs)("label",{className:ea().input__label,children:["Заголовок на ",R(e),e===N&&(0,s.jsx)("span",{className:ea().required__asterisk,children:"*"})]}),(0,s.jsx)(d.A,{currentValue:v.titleTranslations[e]||"",placeholder:"Введите заголовок на ".concat(R(e)).concat(e===N?" (обязательно)":""),onSetValue:a=>V("titleTranslations",e,a),theme:"superWhite"}),e===N&&A.title&&(0,s.jsx)("span",{className:ea().error__text,children:A.title})]}),(0,s.jsxs)("div",{className:ea().input__group,children:[(0,s.jsxs)("label",{className:ea().input__label,children:["Подзаголовок на ",R(e),e===N&&(0,s.jsx)("span",{className:ea().required__asterisk,children:"*"})]}),(0,s.jsx)(d.A,{currentValue:v.subtitleTranslations[e]||"",placeholder:"Введите подзаголовок на ".concat(R(e)).concat(e===N?" (обязательно)":""),onSetValue:a=>V("subtitleTranslations",e,a),theme:"superWhite"}),e===N&&A.subtitle&&(0,s.jsx)("span",{className:ea().error__text,children:A.subtitle})]}),(0,s.jsxs)("div",{className:ea().input__group,children:[(0,s.jsxs)("label",{className:ea().input__label,children:["Дополнительный текст на ",R(e)]}),(0,s.jsx)(d.A,{currentValue:v.thirdTextTranslations[e]||"",placeholder:"Введите дополнительный текст на ".concat(R(e)),onSetValue:a=>V("thirdTextTranslations",e,a),theme:"superWhite"})]})]},"translation-section-".concat(e))),(0,s.jsxs)("div",{className:ea().form__section,children:[(0,s.jsx)("h3",{className:ea().section__title,children:"Ссылка"}),(0,s.jsxs)("div",{className:ea().input__group,children:[(0,s.jsxs)("label",{className:ea().input__label,children:["Ссылка на объявление",(0,s.jsx)("span",{className:ea().required__asterisk,children:"*"})]}),(0,s.jsx)(d.A,{currentValue:v.link,placeholder:"Введите ссылку (https://example.com)",onSetValue:e=>{f(a=>({...a,link:e})),A.link&&w(e=>({...e,link:""}))},theme:"superWhite"}),A.link&&(0,s.jsx)("span",{className:ea().error__text,children:A.link})]})]}),(0,s.jsxs)("div",{className:ea().form__section,children:[(0,s.jsx)("h3",{className:ea().section__title,children:"Дополнительная информация"}),(0,s.jsx)("div",{className:ea().input__group,children:(0,s.jsxs)("label",{className:ea().checkbox__label,children:[(0,s.jsx)("input",{type:"checkbox",checked:v.isBig,onChange:e=>f(a=>({...a,isBig:e.target.checked})),className:ea().checkbox__input}),(0,s.jsx)("span",{className:ea().checkbox__text,children:"Важное объявление"}),(0,s.jsx)("span",{className:ea().checkbox__description,children:"(будет выделено в списке)"})]})}),(0,s.jsxs)("div",{className:ea().input__group,children:[(0,s.jsx)("label",{className:ea().input__label,children:"Дата истечения"}),(0,s.jsx)(ei,{selectedDate:v.expiresAt,onDateSelect:e=>{f(a=>({...a,expiresAt:e})),A.expiresAt&&w(e=>({...e,expiresAt:""}))},minDate:new Date().toISOString().split("T")[0],placeholder:"Выберите дату истечения"}),A.expiresAt&&(0,s.jsx)("span",{className:ea().error__text,children:A.expiresAt})]})]}),(0,s.jsxs)("div",{className:ea().form__section,children:[(0,s.jsx)("h3",{className:ea().section__title,children:g?"Изображение (добавьте изображение, если хотите заменить старое)":"Изображение"}),g&&v.activeImages&&v.activeImages.length>0&&(0,s.jsxs)("div",{className:ea().current__image,children:[(0,s.jsx)("p",{className:ea().current__image__label,children:"Текущее изображение:"}),(0,s.jsx)("img",{src:v.activeImages[0],alt:"Текущее изображение",className:ea().current__image__preview,style:{maxWidth:"200px",maxHeight:"150px",objectFit:"cover",borderRadius:"4px",marginBottom:"10px"}})]}),(0,s.jsx)(j.A,{onFilesChange:e=>{f(a=>({...a,uploadedFiles:e})),A.uploadedFiles&&w(e=>({...e,uploadedFiles:""}))},onActiveImagesChange:e=>{f(a=>({...a,activeImages:e}))},activeImages:g?[]:v.activeImages||[],maxFiles:1,minFiles:+!g,allowMultipleFiles:!1,errorValue:A.uploadedFiles,setErrorValue:e=>w(a=>({...a,uploadedFiles:e})),inputIdPrefix:"ad-image"}),A.uploadedFiles&&(0,s.jsx)("span",{className:ea().error__text,children:A.uploadedFiles})]}),(0,s.jsxs)("div",{className:ea().form__actions,children:[(0,s.jsx)("button",{className:ea().submit__button,onClick:g?T:S,children:g?"Обновить":"Создать"}),(0,s.jsx)("button",{className:ea().cancel__button,onClick:C,children:"Отмена"})]})]})]}),(0,s.jsxs)("div",{className:ea().ads__content,children:[(0,s.jsxs)("div",{className:ea().content__header,children:[(0,s.jsxs)("div",{className:ea().current__language,children:["Просмотр на: ",(0,s.jsx)("span",{className:ea().language__name,children:R(l)})]}),(0,s.jsxs)("div",{className:ea().ads__count,children:["Найдено: ",F.length," из ",a.length,x&&(0,s.jsx)("span",{className:ea().filter__status,children:" (только важные)"})]})]}),(0,s.jsx)("div",{className:ea().ads__grid,children:F.map(e=>(0,s.jsxs)("div",{className:"".concat(ea().ad__card," ").concat(e.isBig?ea().ad__card__big:""," ").concat(E(e.expiresAt)?ea().ad__card__expired:""),children:[(0,s.jsxs)("div",{className:ea().ad__image,children:[(0,s.jsx)("img",{src:e.imageUrl,alt:U(e,"title")}),e.isBig&&(0,s.jsx)("div",{className:ea().important__badge,children:"⭐ Важное"}),E(e.expiresAt)&&(0,s.jsx)("div",{className:ea().expired__badge,children:"⏰ Истекло"})]}),(0,s.jsxs)("div",{className:ea().ad__content,children:[(0,s.jsxs)("h3",{className:ea().ad__title,children:[U(e,"title"),e.isBig&&(0,s.jsx)("span",{className:ea().important__indicator,children:" ⭐"})]}),(0,s.jsx)("p",{className:ea().ad__subtitle,children:U(e,"subtitle")}),e.thirdText&&(0,s.jsx)("p",{className:ea().ad__thirdText,children:U(e,"thirdText")})," ",(0,s.jsxs)("div",{className:ea().ad__meta,children:[(0,s.jsxs)("div",{className:ea().ad__dates,children:[(0,s.jsxs)("span",{children:["Создано: ",new Date(e.creationDate).toLocaleDateString("ru-RU")]}),(0,s.jsxs)("span",{children:["Изменено: ",new Date(e.lastModificationDate).toLocaleDateString("ru-RU")]}),e.expiresAt&&(0,s.jsxs)("span",{className:E(e.expiresAt)?ea().expired__date:"",children:["Истекает: ",new Date(e.expiresAt).toLocaleDateString("ru-RU"),E(e.expiresAt)&&" (Истекло)"]})]}),e.isBig&&(0,s.jsx)("div",{className:ea().important__status,children:"Важное объявление"})]})]}),(0,s.jsxs)("div",{className:ea().ad__actions,children:[(0,s.jsx)("button",{className:ea().edit__button,onClick:()=>(e=>{var a,t,s,n,i,r,l,o,_;p(e.id);let c="";if(e.expiresAt){let a=new Date(e.expiresAt);isNaN(a.getTime())||(c=a.toISOString().split("T")[0])}f({title:e.title,titleTranslations:{ru:(null==(a=e.titleTranslations)?void 0:a.ru)||("ru"===N?e.title:""),en:(null==(t=e.titleTranslations)?void 0:t.en)||("en"===N?e.title:""),zh:(null==(s=e.titleTranslations)?void 0:s.zh)||("zh"===N?e.title:"")},subtitle:e.subtitle,subtitleTranslations:{ru:(null==(n=e.subtitleTranslations)?void 0:n.ru)||("ru"===N?e.subtitle:""),en:(null==(i=e.subtitleTranslations)?void 0:i.en)||("en"===N?e.subtitle:""),zh:(null==(r=e.subtitleTranslations)?void 0:r.zh)||("zh"===N?e.subtitle:"")},thirdText:e.thirdText||"",thirdTextTranslations:{ru:(null==(l=e.thirdTextTranslations)?void 0:l.ru)||"ru"===N&&e.thirdText||"",en:(null==(o=e.thirdTextTranslations)?void 0:o.en)||"en"===N&&e.thirdText||"",zh:(null==(_=e.thirdTextTranslations)?void 0:_.zh)||"zh"===N&&e.thirdText||""},link:e.link||"",expiresAt:c,isBig:e.isBig||!1,activeImages:e.imageUrl?[e.imageUrl]:[],uploadedFiles:[]}),h(!0)})(e),title:"Редактировать",children:"✏️"}),(0,s.jsx)("button",{className:ea().delete__button,onClick:()=>D(e.id),title:"Удалить",children:"\uD83D\uDDD1️"})]})]},e.id))}),0===F.length&&(0,s.jsxs)("div",{className:ea().empty__state,children:[(0,s.jsx)("div",{className:ea().empty__icon,children:"\uD83D\uDCE2"}),(0,s.jsx)("div",{className:ea().empty__message,children:_?"Объявления не найдены":"Пока нет объявлений"})]})]})]})};var el=t(27490),eo=t.n(el),e_=t(53384),ec=t(3764);let ed=()=>{let[e,a]=(0,n.useState)([]),[t,i]=(0,n.useState)([]),[r,l]=(0,n.useState)([]),[o,_]=(0,n.useState)("ru"),[c,u]=(0,n.useState)(!0),[m,h]=(0,n.useState)(null),[g,p]=(0,n.useState)(!1),[x,b]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{try{let e=await ec.A.getFAQ("ru",{hasTranslations:!0}),t=await ec.A.getFAQ("en",{hasTranslations:!0}),s=await ec.A.getFAQ("zh",{hasTranslations:!0});a(e),i(t),l(s)}catch(e){console.error("Error fetching FAQ:",e)}finally{u(!1)}})()},[]);let j=()=>{switch(o){case"ru":default:return e;case"en":return t;case"zh":return r}},f=e=>{switch(o){case"ru":a(e);break;case"en":i(e);break;case"zh":l(e)}},w=async e=>{if(confirm("Вы уверены, что хотите удалить этот FAQ?"))try{u(!0),await ec.A.deleteFAQ(e.id,o);let a=j().filter(a=>a.id!==e.id);f(a),alert("FAQ удален успешно!")}catch(e){console.error("Error deleting FAQ:",e),alert("Ошибка при удалении FAQ")}finally{u(!1)}},N=()=>{h({question:"",answer:"",questionTranslations:{ru:"",en:"",zh:""},answerTranslations:{ru:"",en:"",zh:""}}),p(!0),b(!0)},y=async()=>{var e,a,t,s,n,i,r,l;if(!m)return;let _=(null==(e=m.questionTranslations)?void 0:e[o])||"",c=(null==(a=m.answerTranslations)?void 0:a[o])||"";if(!_.trim()||!c.trim())return void alert("Поля для текущего языка (".concat(o,") обязательны для заполнения"));let d={ru:(null==(t=m.questionTranslations)?void 0:t.ru)||"",en:(null==(s=m.questionTranslations)?void 0:s.en)||"",zh:(null==(n=m.questionTranslations)?void 0:n.zh)||""},h={ru:(null==(i=m.answerTranslations)?void 0:i.ru)||"",en:(null==(r=m.answerTranslations)?void 0:r.en)||"",zh:(null==(l=m.answerTranslations)?void 0:l.zh)||""};try{if(u(!0),g){let e=await ec.A.createFAQ({question:_,questionTranslations:d,answer:c,answerTranslations:h},o);f([...j(),e]),alert("FAQ создан успешно!")}else if(m.id){let e={id:m.id,question:_,questionTranslations:d,answer:c,answerTranslations:h};console.log("updateData",e);let a=await ec.A.updateFAQ(e,o),t=j().map(e=>e.id===m.id?a:e);f(t),alert("FAQ обновлен успешно!")}C()}catch(e){console.error("Error saving FAQ:",e),alert("Ошибка при сохранении FAQ")}finally{u(!1)}},C=()=>{h(null),p(!1),b(!1)},k=e=>{switch(e){case"ru":return"Русский";case"en":return"English";case"zh":return"中文";default:return e}};if(c&&!m)return(0,s.jsx)("div",{className:eo().loading,children:"Загрузка FAQ..."});let P=j().map(e=>({title:e.question,value:e.answer,id:e.id}));return(0,s.jsxs)("div",{className:eo().admin__faq__page,children:[(0,s.jsxs)("div",{className:eo().header,children:[(0,s.jsx)("h1",{className:eo().title,children:"Управление FAQ"}),(0,s.jsxs)("div",{className:eo().language__switcher,children:[(0,s.jsx)("button",{className:"".concat(eo().language__button," ").concat("ru"===o?eo().active:""),onClick:()=>_("ru"),children:"Русский"}),(0,s.jsx)("button",{className:"".concat(eo().language__button," ").concat("en"===o?eo().active:""),onClick:()=>_("en"),children:"English"}),(0,s.jsx)("button",{className:"".concat(eo().language__button," ").concat("zh"===o?eo().active:""),onClick:()=>_("zh"),children:"中文"})]}),(0,s.jsx)("button",{className:eo().add__main__button,onClick:N,children:"Добавить FAQ"})]}),(0,s.jsxs)("div",{className:eo().faq__content,children:[(0,s.jsxs)("div",{className:eo().current__language,children:["Редактирование FAQ:"," ",(0,s.jsx)("span",{className:eo().language__name,children:"ru"===o?"Русский":"en"===o?"English":"中文"})]}),(0,s.jsx)("div",{className:eo().faq__list,children:P.length>0?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(e_.A,{needDeleteButton:!0,onDelete:w,onUpdate:e=>{console.log("start update");let a=j().find(a=>a.id===e.id);console.log("faq",a),a&&(e=>{let a=e.questionTranslations||{ru:"ru"===o?e.question:"",en:"en"===o?e.question:"",zh:"zh"===o?e.question:""},t=e.answerTranslations||{ru:"ru"===o?e.answer:"",en:"en"===o?e.answer:"",zh:"zh"===o?e.answer:""},s={ru:a.ru||"",en:a.en||"",zh:a.zh||""},n={ru:t.ru||"",en:t.en||"",zh:t.zh||""};h({id:e.id,question:e.question,answer:e.answer,questionTranslations:s||{ru:"",en:"",zh:""},answerTranslations:n||{ru:"",en:"",zh:""}}),console.log("new faq ",m),p(!1),b(!0)})(a)},items:P})}):(0,s.jsxs)("div",{className:eo().empty__state,children:[(0,s.jsx)("p",{children:"FAQ не найдены"}),(0,s.jsx)("button",{className:eo().add__first__button,onClick:N,children:"Создать первый FAQ"})]})})]}),(0,s.jsx)(v.A,{isOpen:x,onClose:C,extraClass:eo().modal__window,children:(()=>{var e,a,t,n;if(!m)return null;let i=["ru","en","zh"];return(0,s.jsxs)("div",{className:eo().edit__form,children:[(0,s.jsx)("h3",{className:eo().form__title,children:g?"Создание FAQ":"Редактирование FAQ"}),(0,s.jsxs)("div",{className:eo().form__section,children:[(0,s.jsx)("h4",{className:eo().section__title,children:"Вопросы"}),i.map(e=>{var a;return(0,s.jsxs)("div",{className:eo().form__field,children:[(0,s.jsxs)("label",{className:eo().form__label,children:["Вопрос (",k(e),")",e===o&&(0,s.jsx)("span",{className:eo().required,children:"*"})]}),(0,s.jsx)(d.A,{currentValue:(null==(a=m.questionTranslations)?void 0:a[e])||"",placeholder:"Введите вопрос на ".concat(k(e).toLowerCase()),onSetValue:a=>{m&&h({...m,questionTranslations:{...m.questionTranslations,[e]:a}})},theme:"superWhite",extraClass:"".concat(eo().form__input," ").concat(e===o?eo().required__field:"")})]},"question-".concat(e))})]}),(0,s.jsxs)("div",{className:eo().form__section,children:[(0,s.jsx)("h4",{className:eo().section__title,children:"Ответы"}),i.map(e=>{var a;return(0,s.jsxs)("div",{className:eo().form__field,children:[(0,s.jsxs)("label",{className:eo().form__label,children:["Ответ (",k(e),")",e===o&&(0,s.jsx)("span",{className:eo().required,children:"*"})]}),(0,s.jsx)(A.A,{placeholder:"Введите ответ на ".concat(k(e).toLowerCase()),currentValue:(null==(a=m.answerTranslations)?void 0:a[e])||"",onSetValue:a=>{m&&h({...m,answerTranslations:{...m.answerTranslations,[e]:a}})},theme:"superWhite",extraClass:"".concat(eo().form__textarea," ").concat(e===o?eo().required__field:"")})]},"answer-".concat(e))})]}),(0,s.jsxs)("div",{className:eo().form__actions,children:[(0,s.jsx)("button",{className:eo().save__button,onClick:y,disabled:c||!(null==(a=m.questionTranslations)||null==(e=a[o])?void 0:e.trim())||!(null==(n=m.answerTranslations)||null==(t=n[o])?void 0:t.trim()),children:c?"Сохранение...":"Сохранить"}),(0,s.jsx)("button",{className:eo().cancel__button,onClick:C,children:"Отмена"})]})]})})()})]})};var eu=t(55896),em=t.n(eu),eh=t(41287);let eg=[{label:"Без фильтров",value:void 0},{label:"Сначала новые",value:"desc"},{label:"Сначала старые",value:"asc"}],ep=()=>{let[e,a]=(0,n.useState)([]),[t,i]=(0,n.useState)(!1),[r,l]=(0,n.useState)(null),[o,_]=(0,n.useState)(0),[c,d]=(0,n.useState)(0),[m,h]=(0,n.useState)(0),[g,p]=(0,n.useState)(!1),[x,b]=(0,n.useState)(""),[v,j]=(0,n.useState)(null),[f,A]=(0,n.useState)(null),[w,N]=(0,n.useState)("Все рейтинги"),[y,C]=(0,n.useState)("Все статусы"),[k,P]=(0,n.useState)("Без фильтров"),[S,T]=(0,n.useState)(void 0),[D,I]=(0,n.useState)(!1),[U,F]=(0,n.useState)(!1),[V,R]=(0,n.useState)(!1),[E,L]=(0,n.useState)(!1),[B,z]=(0,n.useState)(null),[q,M]=(0,n.useState)(""),[Q,W]=(0,n.useState)(5),[O,H]=(0,n.useState)(!1);(0,n.useEffect)(()=>{console.log("reviews",e)},[e]);let K=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{i(!0),l(null);let s=new URLSearchParams({page:e.toString(),size:"10"});x.trim()&&s.append("commentText",x.trim()),null!==v&&s.append("minRating",v.toString()),null!==f&&s.append("maxRating",f.toString()),"Все статусы"!==y&&s.append("approveStatuses",y),S&&(s.append("sort","creationDate"),s.append("direction",S));let n=(await u.Ay.get("/product-reviews?".concat(s.toString()))).data;a(e=>{let a=t?[...e,...n.content]:n.content,s=new Map;return a.forEach(e=>s.set(e.id,e)),Array.from(s.values())}),_(n.totalElements),d(n.totalPages),h(n.number),p(!n.last)}catch(e){l("Ошибка загрузки отзывов"),console.error(e)}finally{i(!1)}},G=async()=>{g&&!t&&await K(m+1,!0)},X=e=>{switch(N(e),I(!1),e){case"5 звезд":j(5),A(5);break;case"4 звезды":j(4),A(4);break;case"3 звезды":j(3),A(3);break;case"2 звезды":j(2),A(2);break;case"1 звезда":j(1),A(1);break;case"Высокие (4-5)":j(4),A(5);break;case"Низкие (1-2)":j(1),A(2);break;default:j(null),A(null)}},Y=e=>{P(e),R(!1);let a=eg.find(a=>a.label===e);T(null==a?void 0:a.value)};(0,n.useEffect)(()=>{let e=setTimeout(()=>{K(0,!1)},500);return()=>clearTimeout(e)},[x,v,f]),(0,n.useEffect)(()=>{K(0,!1)},[]);let Z=async()=>{if(B){H(!0);try{await u.Ay.patch("/products/".concat(1,"/reviews/").concat(B.id),{text:q,rating:Q}),a(e=>e.map(e=>e.id===B.id?{...e,text:q,rating:Q}:e)),L(!1),z(null)}catch(e){console.error(e),alert("Ошибка при обновлении отзыва")}finally{H(!1)}}},J=async e=>{if(confirm("Вы уверены, что хотите удалить этот отзыв?"))try{await u.Ay.delete("/product-reviews/".concat(e)),a(a=>a.filter(a=>a.id!==e)),_(e=>e-1)}catch(e){console.error(e),alert("Ошибка при удалении отзыва")}},$=e=>{C(e),F(!1)};return(0,n.useEffect)(()=>{let e=setTimeout(()=>{K(0,!1)},300);return()=>clearTimeout(e)},[x,v,f,y,S]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:em()["admin-reviews-page"],children:[(0,s.jsx)("h1",{className:em()["reviews-title"],children:"Управление отзывами"}),r&&(0,s.jsxs)("div",{className:em()["error-message"],role:"alert",children:["Ошибка: ",r,(0,s.jsx)("button",{onClick:()=>K(),className:em()["retry-btn"],type:"button",children:"Повторить"})]}),(0,s.jsxs)("div",{className:em()["reviews-actions"],children:[(0,s.jsx)("input",{type:"text",className:em()["search-input"],placeholder:"Поиск по тексту отзыва...",value:x,onChange:e=>{b(e.target.value)},"aria-label":"Поиск по тексту отзыва"}),(0,s.jsxs)("div",{className:em()["filter-dropdown"],children:[(0,s.jsxs)("div",{tabIndex:0,className:em()["dropdown-trigger"],role:"button","aria-haspopup":"listbox","aria-expanded":D,onClick:()=>I(e=>!e),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&I(e=>!e)},children:[w,(0,s.jsx)("span",{"aria-hidden":"true",children:"▼"})]}),D&&(0,s.jsx)("div",{className:em()["dropdown-content"],role:"listbox",tabIndex:-1,children:["Все рейтинги","5 звезд","4 звезды","3 звезды","2 звезды","1 звезда","Высокие (4-5)","Низкие (1-2)"].map(e=>(0,s.jsx)("div",{role:"option","aria-selected":w===e,tabIndex:0,className:"".concat(em()["dropdown-item"]," ").concat(w===e?em().active:""),onClick:()=>X(e),onKeyDown:a=>{("Enter"===a.key||" "===a.key)&&X(e)},children:e},e))})]}),(0,s.jsxs)("div",{className:em()["filter-dropdown"],children:[(0,s.jsxs)("div",{tabIndex:0,className:em()["dropdown-trigger"],role:"button","aria-haspopup":"listbox","aria-expanded":U,onClick:()=>F(e=>!e),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&F(e=>!e)},children:[y,(0,s.jsx)("span",{"aria-hidden":"true",children:"▼"})]}),U&&(0,s.jsx)("div",{className:em()["dropdown-content"],role:"listbox",tabIndex:-1,children:["Все статусы","APPROVED","PENDING","REJECTED"].map(e=>(0,s.jsx)("div",{role:"option","aria-selected":y===e,tabIndex:0,className:"".concat(em()["dropdown-item"]," ").concat(y===e?em().active:""),onClick:()=>$(e),onKeyDown:a=>{("Enter"===a.key||" "===a.key)&&$(e)},children:e},e))})]}),(0,s.jsxs)("div",{className:em()["filter-dropdown"],children:[(0,s.jsxs)("div",{tabIndex:0,className:em()["dropdown-trigger"],role:"button","aria-haspopup":"listbox","aria-expanded":V,onClick:()=>R(e=>!e),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&R(e=>!e)},children:[k,(0,s.jsx)("span",{"aria-hidden":"true",children:"▼"})]}),V&&(0,s.jsx)("div",{className:em()["dropdown-content"],role:"listbox",tabIndex:-1,children:eg.map(e=>(0,s.jsx)("div",{role:"option","aria-selected":k===e.label,tabIndex:0,className:"".concat(em()["dropdown-item"]," ").concat(k===e.label?em().active:""),onClick:()=>Y(e.label),onKeyDown:a=>{("Enter"===a.key||" "===a.key)&&Y(e.label)},children:e.label},e.label))})]}),(0,s.jsxs)("div",{className:em()["reviews-count"],"aria-live":"polite","aria-atomic":"true",children:["Всего отзывов: ",o]}),(0,s.jsx)("button",{className:em()["clear-filters-btn"],onClick:()=>{b(""),N("Все рейтинги"),j(null),A(null),C("Все статусы"),P("Без фильтров"),T(void 0)},type:"button",children:"Сбросить фильтры"})]}),(0,s.jsxs)("div",{className:em()["reviews-container"],"aria-live":"polite","aria-busy":t,children:[!t&&0===e.length&&(0,s.jsx)("div",{className:em()["no-reviews"],children:"Нет отзывов, соответствующих фильтрам"}),e.map(a=>(0,s.jsxs)("div",{className:em()["review-wrapper"],children:[(0,s.jsx)(eh.A,{...a,isForAdmin:!0}),(0,s.jsxs)("div",{className:em()["review-buttons"],children:[(0,s.jsx)("button",{onClick:()=>(a=>{let t=e.find(e=>e.id===a);t&&(z(t),M(t.text),W(t.rating),L(!0))})(a.id),className:em()["edit-btn"],type:"button","aria-label":"Редактировать отзыв",title:"Редактировать",children:"✏️"}),(0,s.jsx)("button",{onClick:()=>J(a.id),className:em()["delete-btn"],type:"button","aria-label":"Удалить отзыв",title:"Удалить",children:"\uD83D\uDDD1️"})]})]},a.id)),t&&0===e.length&&(0,s.jsx)("div",{className:em()["loading-skeleton"],"aria-label":"Загрузка отзывов",role:"progressbar"}),(0,s.jsx)(()=>{let e=(0,n.useRef)(null);return((0,n.useEffect)(()=>{if(!g)return;let a=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!t&&G()})},{rootMargin:"0px 0px 300px 0px",threshold:.1});return e.current&&a.observe(e.current),()=>{e.current&&a.unobserve(e.current)}},[g,t]),g)?(0,s.jsx)("div",{ref:e,className:em()["load-more-trigger"],children:(0,s.jsxs)("div",{className:em()["load-more-content"],children:[(0,s.jsx)("p",{children:"Загружаем больше отзывов..."}),(0,s.jsx)("button",{onClick:G,disabled:t,className:em()["load-more-btn"],children:t?"Загрузка...":"Загрузить еще"})]})}):null},{})]})]}),E&&B&&(0,s.jsx)("div",{className:em()["modal-overlay"],role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onClick:()=>{O||(L(!1),z(null))},children:(0,s.jsxs)("div",{className:em()["modal-content"],onClick:e=>e.stopPropagation(),tabIndex:-1,children:[(0,s.jsx)("h2",{className:em()["modal-title"],id:"modal-title",children:"Редактирование отзыва"}),(0,s.jsxs)("form",{className:em()["modal-form"],onSubmit:e=>{e.preventDefault(),O||Z()},children:[(0,s.jsxs)("div",{className:em()["form-group"],children:[(0,s.jsx)("label",{htmlFor:"edit-text",className:em()["form-label"],children:"Текст отзыва"}),(0,s.jsx)("textarea",{id:"edit-text",className:em()["form-textarea"],value:q,onChange:e=>M(e.target.value),required:!0,disabled:O})]}),(0,s.jsxs)("div",{className:em()["form-group"],children:[(0,s.jsx)("span",{className:em()["form-label"],children:"Рейтинг"}),(0,s.jsx)("div",{className:em()["rating-selector"],role:"radiogroup","aria-label":"Рейтинг",children:[1,2,3,4,5].map(e=>(0,s.jsx)("span",{role:"radio","aria-checked":Q===e,tabIndex:0,className:"".concat(em()["rating-star"]," ").concat(e<=Q?em().active:""),onClick:()=>!O&&W(e),onKeyDown:a=>{O||"Enter"!==a.key&&" "!==a.key||W(e)},children:"★"},e))})]}),(0,s.jsxs)("div",{className:em()["modal-actions"],children:[(0,s.jsx)("button",{type:"button",className:"".concat(em()["modal-btn"]," ").concat(em()["cancel-btn"]),onClick:()=>{O||(L(!1),z(null))},disabled:O,children:"Отмена"}),(0,s.jsx)("button",{type:"submit",className:"".concat(em()["modal-btn"]," ").concat(em()["save-btn"]),disabled:O||""===q.trim(),children:O?"Сохранение...":"Сохранить"})]})]})]})})]})},ex=e=>{let{initialProducts:a,hasMore:t=!0}=e,[i,l]=(0,n.useState)(),o=(0,I.usePathname)();return(0,n.useEffect)(()=>{l(o.split("/").pop())},[o]),(0,s.jsxs)("div",{children:[(0,s.jsx)(U.default,{}),(0,s.jsx)("div",{className:"".concat(r().content__inner," container"),children:(0,s.jsxs)("div",{className:r().inner,children:[(0,s.jsx)(z,{}),(()=>{switch(null==i?void 0:i.toLowerCase()){case"users":return(0,s.jsx)(D,{});case"categories":return(0,s.jsx)($,{});case"cards":return(0,s.jsx)(Y,{initialProducts:a||[],hasMore:t});case"ads":return(0,s.jsx)(er,{});case"translates":return(0,s.jsx)(O,{});case"reviews":return(0,s.jsx)(ep,{});case"faq":return(0,s.jsx)(ed,{});default:return(0,s.jsx)("p",{children:"Страница не найдена"})}})()]})}),(0,s.jsx)(F.default,{})]})}},45600:e=>{e.exports={container__ads:"AdminAds_container__ads__PWtEn",header:"AdminAds_header__gkyfV",title__section:"AdminAds_title__section__yZaUe",title:"AdminAds_title__E31_G",controls__section:"AdminAds_controls__section__8m7uU",search__container:"AdminAds_search__container__sVPtp",language__switcher:"AdminAds_language__switcher__6up7Z",language__button:"AdminAds_language__button__0XVcw",active:"AdminAds_active__Z6pUJ",create__button:"AdminAds_create__button__3kpJG",create__form:"AdminAds_create__form__ofnzt",slideDown:"AdminAds_slideDown__5yTo8",form__header:"AdminAds_form__header__lDi0l",form__title:"AdminAds_form__title__jzOZq",close__button:"AdminAds_close__button__xIWvA",form__content:"AdminAds_form__content__7w9Fw",form__section:"AdminAds_form__section__sF9VC",section__title:"AdminAds_section__title__kFU80",input__group:"AdminAds_input__group__YSSCi",input__label:"AdminAds_input__label__Cs_lc",date__input:"AdminAds_date__input__8tDmt",error__text:"AdminAds_error__text__woozR",form__actions:"AdminAds_form__actions__l_VXX",submit__button:"AdminAds_submit__button__cp0Zg",cancel__button:"AdminAds_cancel__button__XRNb7",ads__content:"AdminAds_ads__content___ppuC",content__header:"AdminAds_content__header__y56wA",current__language:"AdminAds_current__language__eCtof",language__name:"AdminAds_language__name__xdELU",ads__count:"AdminAds_ads__count__ABl4v",ads__grid:"AdminAds_ads__grid__jhDnh",ad__card:"AdminAds_ad__card__1qgYd",fadeIn:"AdminAds_fadeIn__GKECC",ad__image:"AdminAds_ad__image__qvvuT",ad__content:"AdminAds_ad__content__iCkmo",ad__title:"AdminAds_ad__title__p9Hvg",ad__subtitle:"AdminAds_ad__subtitle__dyEda",ad__thirdText:"AdminAds_ad__thirdText__f5xhc",ad__meta:"AdminAds_ad__meta__myuup",ad__dates:"AdminAds_ad__dates__TsFd1",ad__actions:"AdminAds_ad__actions___m_vI",edit__button:"AdminAds_edit__button__AsXiY",delete__button:"AdminAds_delete__button__IKbAk",empty__state:"AdminAds_empty__state__C7P0S",empty__icon:"AdminAds_empty__icon__XHwXC",bounce:"AdminAds_bounce__1xeho",empty__message:"AdminAds_empty__message__4I61u",loading:"AdminAds_loading__wV1Bb",spin:"AdminAds_spin__G_mbw",checkbox__label:"AdminAds_checkbox__label__3PtyD",checkbox__input:"AdminAds_checkbox__input__e9ENY",checkbox__text:"AdminAds_checkbox__text__7aFPK",checkbox__description:"AdminAds_checkbox__description__NiSFz",filter__controls:"AdminAds_filter__controls__p9yj1",filter__label:"AdminAds_filter__label__tnbBf",filter__button:"AdminAds_filter__button__QN_kO",ad__card__big:"AdminAds_ad__card__big___VnKX",shimmer:"AdminAds_shimmer__1yaAT",important__badge:"AdminAds_important__badge___wIja",pulse:"AdminAds_pulse__IX5FP",important__indicator:"AdminAds_important__indicator__2ZW2N",twinkle:"AdminAds_twinkle__eRp5V",important__status:"AdminAds_important__status__p4to9",primary__indicator:"AdminAds_primary__indicator__HDiGb",required__indicator:"AdminAds_required__indicator__YM5iW",optional__indicator:"AdminAds_optional__indicator__mIegH",required__asterisk:"AdminAds_required__asterisk__grYzj",filter__status:"AdminAds_filter__status__g0wXP"}},55896:e=>{e.exports={"admin-reviews-page":"AdminReviewsPage_admin-reviews-page__XpKmp","reviews-title":"AdminReviewsPage_reviews-title__S1cvs","review-wrapper":"AdminReviewsPage_review-wrapper__xW_tH","review-buttons":"AdminReviewsPage_review-buttons__wqh1S","reviews-actions":"AdminReviewsPage_reviews-actions__OxmIi","search-input":"AdminReviewsPage_search-input__TgTFQ","filter-dropdown":"AdminReviewsPage_filter-dropdown__TBgYu","dropdown-trigger":"AdminReviewsPage_dropdown-trigger___UTH_","dropdown-content":"AdminReviewsPage_dropdown-content__k4p_E","dropdown-item":"AdminReviewsPage_dropdown-item__s4XPE",active:"AdminReviewsPage_active__omMeI","reviews-count":"AdminReviewsPage_reviews-count__Ywj8q","clear-filters-btn":"AdminReviewsPage_clear-filters-btn__S6w8d","reviews-container":"AdminReviewsPage_reviews-container__Nr8R2","review-card":"AdminReviewsPage_review-card__OSe7D","review-header":"AdminReviewsPage_review-header__vh7oH","author-info":"AdminReviewsPage_author-info___HLRJ","author-avatar":"AdminReviewsPage_author-avatar__XAuMV","author-details":"AdminReviewsPage_author-details__2Q5Mf","author-name":"AdminReviewsPage_author-name__Dwarh","author-email":"AdminReviewsPage_author-email__XD3Q3","review-meta":"AdminReviewsPage_review-meta__RyCUq","review-rating":"AdminReviewsPage_review-rating__9Vr5T",star:"AdminReviewsPage_star__XJaq_",filled:"AdminReviewsPage_filled___6KMA","review-date":"AdminReviewsPage_review-date__hjvWH","review-content":"AdminReviewsPage_review-content__irADl","review-text":"AdminReviewsPage_review-text__psBk7","review-media":"AdminReviewsPage_review-media__95yk7","media-item":"AdminReviewsPage_media-item__LVT1i","media-image":"AdminReviewsPage_media-image__v33ga","media-video":"AdminReviewsPage_media-video__daEo_","review-actions":"AdminReviewsPage_review-actions__lujMS","edit-btn":"AdminReviewsPage_edit-btn__9hnaB","delete-btn":"AdminReviewsPage_delete-btn__HsCwE","error-message":"AdminReviewsPage_error-message__kVtNZ","retry-btn":"AdminReviewsPage_retry-btn__0ZD9G","no-reviews":"AdminReviewsPage_no-reviews__QpsG0","load-more-trigger":"AdminReviewsPage_load-more-trigger__n_Zaz","load-more-content":"AdminReviewsPage_load-more-content___kZhh","modal-overlay":"AdminReviewsPage_modal-overlay__6iomY","modal-content":"AdminReviewsPage_modal-content__20RGY","modal-title":"AdminReviewsPage_modal-title__Ew8nk","modal-form":"AdminReviewsPage_modal-form__pCFGO","form-group":"AdminReviewsPage_form-group__gyf2J","form-label":"AdminReviewsPage_form-label__DR9xR","form-textarea":"AdminReviewsPage_form-textarea__12fS5","rating-selector":"AdminReviewsPage_rating-selector__3h39H","rating-star":"AdminReviewsPage_rating-star__9wHvf","modal-actions":"AdminReviewsPage_modal-actions__Rsteb","modal-btn":"AdminReviewsPage_modal-btn____bMg","cancel-btn":"AdminReviewsPage_cancel-btn__T_Qih","save-btn":"AdminReviewsPage_save-btn__UMhgi"}},59692:e=>{e.exports={admin__categories__page:"AdminCategoriesPage_admin__categories__page__onzHc",admin__categories__page__images:"AdminCategoriesPage_admin__categories__page__images__k_QI4",header:"AdminCategoriesPage_header__ACoxO",title:"AdminCategoriesPage_title__Ew9cq",language__switcher:"AdminCategoriesPage_language__switcher__1FQky",language__button:"AdminCategoriesPage_language__button__geker",active:"AdminCategoriesPage_active___n_75",add__main__button:"AdminCategoriesPage_add__main__button__GNCsR",categories__content:"AdminCategoriesPage_categories__content__3rN7H",current__language:"AdminCategoriesPage_current__language__l7lqw",language__name:"AdminCategoriesPage_language__name__HQg5X",categories__list:"AdminCategoriesPage_categories__list__pHWXV",category__item:"AdminCategoriesPage_category__item__xYdPX",category__header:"AdminCategoriesPage_category__header__sv8lk",level__0:"AdminCategoriesPage_level__0__U56WO",level__1:"AdminCategoriesPage_level__1__50UAw",level__2:"AdminCategoriesPage_level__2__dJmQD",expand__button:"AdminCategoriesPage_expand__button__UxlIc",expanded:"AdminCategoriesPage_expanded__tfEM5",category__image:"AdminCategoriesPage_category__image__cqkho",category__info:"AdminCategoriesPage_category__info__k_n2X",category__name:"AdminCategoriesPage_category__name__WZQoM",category__slug:"AdminCategoriesPage_category__slug__A_K0a",category__actions:"AdminCategoriesPage_category__actions__U0m4W",edit__button:"AdminCategoriesPage_edit__button__XZqs1",add__button:"AdminCategoriesPage_add__button__kBWQJ",delete__button:"AdminCategoriesPage_delete__button__X3E5D",category__children:"AdminCategoriesPage_category__children__q_a04",empty__state:"AdminCategoriesPage_empty__state__Kz3xz",add__first__button:"AdminCategoriesPage_add__first__button__0sYMD",loading:"AdminCategoriesPage_loading__IRS4a",edit__form__overlay:"AdminCategoriesPage_edit__form__overlay__sjeEV",edit__form:"AdminCategoriesPage_edit__form__qyyAU",form__title:"AdminCategoriesPage_form__title__JBEOs",form__field:"AdminCategoriesPage_form__field__QMin0",form__label:"AdminCategoriesPage_form__label__0_Od3",form__input:"AdminCategoriesPage_form__input__XR8N7",form__actions:"AdminCategoriesPage_form__actions__0MEDc",save__button:"AdminCategoriesPage_save__button__A5SHX",cancel__button:"AdminCategoriesPage_cancel__button__Mfhmd",fadeIn:"AdminCategoriesPage_fadeIn__vkiGa",slideIn:"AdminCategoriesPage_slideIn__w_3X0"}},61530:e=>{e.exports={container__cards:"AdminCards_container__cards__PDTw_",admin__cards__title:"AdminCards_admin__cards__title___tKvd",extraButtonsBoxClass:"AdminCards_extraButtonsBoxClass__RNRDq"}},90856:e=>{e.exports={inner:"AdminPanel_inner__uFkj8"}},96554:e=>{e.exports={multiDropSelect:"MultiDropSelect_multiDropSelect___N3U3",disabled:"MultiDropSelect_disabled__2zCpI",cat__search:"MultiDropSelect_cat__search__95qgh",dropList:"MultiDropSelect_dropList__ylm2V",dropListContent:"MultiDropSelect_dropListContent__g0Skk",dropdownTitle:"MultiDropSelect_dropdownTitle__wB0nk",placeholder:"MultiDropSelect_placeholder__EgQ6p",selectedItems:"MultiDropSelect_selectedItems__FBwSV",selectedItem:"MultiDropSelect_selectedItem__eUh9j",itemIcon:"MultiDropSelect_itemIcon__2jlS_",optionIcon:"MultiDropSelect_optionIcon__dTTmh",itemLabel:"MultiDropSelect_itemLabel__JETt6",removeButton:"MultiDropSelect_removeButton__6wM2r",arrow:"MultiDropSelect_arrow__GeMvs",arrowUp:"MultiDropSelect_arrowUp__dw6v0",divider:"MultiDropSelect_divider__eQb10",optionItem:"MultiDropSelect_optionItem__Fho3Q",optionSelected:"MultiDropSelect_optionSelected__EV4jb",optionContent:"MultiDropSelect_optionContent__heGkr",radioWrapper:"MultiDropSelect_radioWrapper__HkuHU",optionLabel:"MultiDropSelect_optionLabel__KKHAo",notFound:"MultiDropSelect_notFound__ddcUR",notFoundContent:"MultiDropSelect_notFoundContent__6P8HD",notFoundIcon:"MultiDropSelect_notFoundIcon__EVNpY",notFoundText:"MultiDropSelect_notFoundText__Ccruz",notFoundSubtext:"MultiDropSelect_notFoundSubtext__ksrSB",categoryGroup:"MultiDropSelect_categoryGroup__e8FJk",categoryItem:"MultiDropSelect_categoryItem__EGQXn",categoryItemSelected:"MultiDropSelect_categoryItemSelected__txiQR","categoryItem--level0":"MultiDropSelect_categoryItem--level0__pkBSC","categoryItem--level1":"MultiDropSelect_categoryItem--level1__jPrIA","categoryItem--level2":"MultiDropSelect_categoryItem--level2__w1SlR","categoryItem--level3":"MultiDropSelect_categoryItem--level3__gQs0a",expandIcon:"MultiDropSelect_expandIcon__9NK5b",expandIconExpanded:"MultiDropSelect_expandIconExpanded__0Bme0",levelIndicator:"MultiDropSelect_levelIndicator__CYmcw",categoryImage:"MultiDropSelect_categoryImage__Lgzbe",categoryLabel:"MultiDropSelect_categoryLabel__OIktq",childrenContainer:"MultiDropSelect_childrenContainer__HxxmL",slideDown:"MultiDropSelect_slideDown__WLofI",actions:"MultiDropSelect_actions__XNFIM",actionButton:"MultiDropSelect_actionButton__VRjSH",actionButtonPrimary:"MultiDropSelect_actionButtonPrimary__aliv4"}}}]);