(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2454],{30242:(e,t,n)=>{"use strict";n.d(t,{G3:()=>p,_Y:()=>h});var a,r=n(12115),o=n(87358),l=function(){return(l=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=function(e){var t;e?function(e){if(e)for(;e.lastChild;)e.lastChild.remove()}("string"==typeof e?document.getElementById(e):e):(t=document.querySelector(".grecaptcha-badge"))&&t.parentNode&&document.body.removeChild(t.parentNode)},i=function(e,t){s(t),window.___grecaptcha_cfg=void 0;var n,a=document.querySelector("#"+e);a&&a.remove(),(n=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]'))&&n.remove()},c=function(e){var t=e.render,n=e.onLoadCallbackName,a=e.language,r=e.onLoad,o=e.useRecaptchaNet,l=e.useEnterprise,s=e.scriptProps,i=void 0===s?{}:s,c=i.nonce,u=void 0===c?"":c,d=i.defer,p=i.async,h=i.id,m=i.appendTo,g=(void 0===h?"":h)||"google-recaptcha-v3";if(document.querySelector("#"+g))r();else{var x,_="https://www."+((x={useEnterprise:l,useRecaptchaNet:o}).useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(x.useEnterprise?"enterprise.js":"api.js"),f=document.createElement("script");f.id=g,f.src=_+"?render="+t+("explicit"===t?"&onload="+n:"")+(a?"&hl="+a:""),u&&(f.nonce=u),f.defer=!!(void 0!==d&&d),f.async=!!(void 0!==p&&p),f.onload=r,("body"===m?document.body:document.getElementsByTagName("head")[0]).appendChild(f)}},u=function(e){void 0===o||o.env,console.warn(e)};(a||(a={})).SCRIPT_NOT_AVAILABLE="Recaptcha script is not available";var d=(0,r.createContext)({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});function p(e){var t=e.reCaptchaKey,n=e.useEnterprise,o=void 0!==n&&n,s=e.useRecaptchaNet,p=void 0!==s&&s,h=e.scriptProps,m=e.language,g=e.container,x=e.children,_=(0,r.useState)(null),f=_[0],v=_[1],y=(0,r.useRef)(t),b=JSON.stringify(h),C=JSON.stringify(null==g?void 0:g.parameters);(0,r.useEffect)(function(){if(t){var e=(null==h?void 0:h.id)||"google-recaptcha-v3",n=(null==h?void 0:h.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[n]=function(){var e=o?window.grecaptcha.enterprise:window.grecaptcha,n=l({badge:"inline",size:"invisible",sitekey:t},(null==g?void 0:g.parameters)||{});y.current=e.render(null==g?void 0:g.element,n)},c({render:(null==g?void 0:g.element)?"explicit":t,onLoadCallbackName:n,useEnterprise:o,useRecaptchaNet:p,scriptProps:h,language:m,onLoad:function(){if(window&&window.grecaptcha){var e=o?window.grecaptcha.enterprise:window.grecaptcha;e.ready(function(){v(e)})}else u("<GoogleRecaptchaProvider /> "+a.SCRIPT_NOT_AVAILABLE)},onError:function(){u("Error loading google recaptcha script")}}),function(){i(e,null==g?void 0:g.element)}}u("<GoogleReCaptchaProvider /> recaptcha key not provided")},[o,p,b,C,m,t,null==g?void 0:g.element]);var j=(0,r.useCallback)(function(e){if(!f||!f.execute)throw Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return f.execute(y.current,{action:e})},[f,y]),N=(0,r.useMemo)(function(){return{executeRecaptcha:f?j:void 0,container:null==g?void 0:g.element}},[j,f,null==g?void 0:g.element]);return r.createElement(d.Provider,{value:N},x)}d.Consumer;var h=function(){return(0,r.useContext)(d)};function m(e,t){return e(t={exports:{}},t.exports),t.exports}var g="function"==typeof Symbol&&Symbol.for,x=g?Symbol.for("react.element"):60103,_=g?Symbol.for("react.portal"):60106,f=g?Symbol.for("react.fragment"):60107,v=g?Symbol.for("react.strict_mode"):60108,y=g?Symbol.for("react.profiler"):60114,b=g?Symbol.for("react.provider"):60109,C=g?Symbol.for("react.context"):60110,j=g?Symbol.for("react.async_mode"):60111,N=g?Symbol.for("react.concurrent_mode"):60111,S=g?Symbol.for("react.forward_ref"):60112,w=g?Symbol.for("react.suspense"):60113,k=g?Symbol.for("react.suspense_list"):60120,P=g?Symbol.for("react.memo"):60115,R=g?Symbol.for("react.lazy"):60116,E=g?Symbol.for("react.block"):60121,T=g?Symbol.for("react.fundamental"):60117,V=g?Symbol.for("react.responder"):60118,A=g?Symbol.for("react.scope"):60119;function L(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case x:switch(e=e.type){case j:case N:case f:case y:case v:case w:return e;default:switch(e=e&&e.$$typeof){case C:case S:case R:case P:case b:return e;default:return t}}case _:return t}}}function O(e){return L(e)===N}var $={AsyncMode:j,ConcurrentMode:N,ContextConsumer:C,ContextProvider:b,Element:x,ForwardRef:S,Fragment:f,Lazy:R,Memo:P,Portal:_,Profiler:y,StrictMode:v,Suspense:w,isAsyncMode:function(e){return O(e)||L(e)===j},isConcurrentMode:O,isContextConsumer:function(e){return L(e)===C},isContextProvider:function(e){return L(e)===b},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===x},isForwardRef:function(e){return L(e)===S},isFragment:function(e){return L(e)===f},isLazy:function(e){return L(e)===R},isMemo:function(e){return L(e)===P},isPortal:function(e){return L(e)===_},isProfiler:function(e){return L(e)===y},isStrictMode:function(e){return L(e)===v},isSuspense:function(e){return L(e)===w},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===f||e===N||e===y||e===v||e===w||e===k||"object"==typeof e&&null!==e&&(e.$$typeof===R||e.$$typeof===P||e.$$typeof===b||e.$$typeof===C||e.$$typeof===S||e.$$typeof===T||e.$$typeof===V||e.$$typeof===A||e.$$typeof===E)},typeOf:L},M=m(function(e,t){}),U=(M.AsyncMode,M.ConcurrentMode,M.ContextConsumer,M.ContextProvider,M.Element,M.ForwardRef,M.Fragment,M.Lazy,M.Memo,M.Portal,M.Profiler,M.StrictMode,M.Suspense,M.isAsyncMode,M.isConcurrentMode,M.isContextConsumer,M.isContextProvider,M.isElement,M.isForwardRef,M.isFragment,M.isLazy,M.isMemo,M.isPortal,M.isProfiler,M.isStrictMode,M.isSuspense,M.isValidElementType,M.typeOf,m(function(e){e.exports=$})),B={};B[U.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},B[U.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype},59789:(e,t,n)=>{Promise.resolve().then(n.bind(n,93819))},93819:(e,t,n)=>{"use strict";n.d(t,{default:()=>V});var a=n(95155),r=n(55418),o=n.n(r),l=n(61321),s=n(12115),i=n(9013),c=n(6874),u=n.n(c),d=n(33284),p=n(71747),h=n(35695),m=n(56671),g=n(4903),x=n(40055),_=n(44743),f=n(17652);let v=e=>{let{email:t,selectedOption:n,setEmail:r,handleOptionChange:l,onBack:s,onNext:i}=e,c=t.includes("@")&&t.includes(".")&&0!==t.length,u="Personal"===n&&c,d=(0,f.c3)("RegisterUserPage");return(0,a.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[(0,a.jsx)(x.A,{extraClass:"".concat(o().inputs__text_extra," ").concat(c||0===t.length?"":o().extra__email__error),extraStyle:{width:"100%"},isSecret:!1,autoComplete:"on",onSetValue:r,inputType:"email",currentValue:t,errorValue:c||0===t.length?"":d("emailError"),placeholder:d("email")+"...",title:(0,a.jsx)("p",{className:"".concat(o().input__title),children:d("email")})}),(0,a.jsx)("p",{className:"".concat(o().input__subtitle),children:d("emailDescription")}),(0,a.jsx)(_.A,{label:d("checkPolicy"),name:"Personal",value:"Personal",textColor:"dark",checked:"Personal"===n,onChange:l,allowUnchecked:!0}),(0,a.jsxs)("span",{className:"".concat(o().buttons__box),children:[(0,a.jsx)("button",{onClick:s,className:"".concat(o().back_step_button),children:(0,a.jsx)("svg",{style:{transform:"rotate(180deg)"},width:"35px",height:"35px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,a.jsx)("button",{style:{opacity:u?1:.7,pointerEvents:u?"auto":"none"},className:"".concat(o().checked__email),onClick:i,children:d("emailNext")})]})]})};var y=n(83419);let b=e=>{let{email:t,otpValue:n,handleOtpComplete:r,onBack:l,onConfirm:s}=e,i=(0,f.c3)("RegisterUserPage");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"".concat(o().inputOtp_section),children:[(0,a.jsxs)("p",{className:"".concat(o().otp__text),children:[i("codeText")," ",t||"ваша почта@gmail.com"]}),(0,a.jsx)(y.A,{length:4,onComplete:r})]}),(0,a.jsxs)("span",{className:"".concat(o().buttons__box),children:[(0,a.jsx)("button",{onClick:l,className:"".concat(o().back_step_button),children:(0,a.jsx)("svg",{style:{transform:"rotate(180deg)"},width:"35px",height:"35px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,a.jsx)("button",{style:{opacity:0!==n.length?1:.8,pointerEvents:0!==n.length?"auto":"none"},className:"".concat(o().checked__email),onClick:s,children:i("confirm")})]}),(0,a.jsx)(u(),{href:"/help",className:o().problem__link,children:i("haveProblemWithCode")})]})};var C=n(26893),j=n(16508),N=n(70358);let S=e=>{let{inn:t,name:n,telText:r,selectedCountries:l,isValidNumber:i,setInn:c,handleNameChange:u,onChangeTelNumber:d,setSelectedCountries:p,onSubmit:h}=e,[m,g]=(0,s.useState)(!1),_=(0,N.A)();(0,s.useEffect)(()=>{g(!0)},[]);let v=(0,f.c3)("RegisterUserPage"),y=[{id:"belarus",label:v("Belarus"),value:"Belarus",icon:"/countries/belarus.svg"},{id:"kazakhstan",label:v("Kazakhstan"),value:"Kazakhstan",icon:"/countries/kazakhstan.svg"},{id:"china",label:v("China"),value:"China",icon:"/countries/china.svg"},{id:"russia",label:v("Russia"),value:"Russia",icon:"/countries/russia.svg"}],b=l.length>0?1===l.length?l[0].value:"other":"Russia";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.A,{extraClass:"".concat(o().inputs__text_extra),isSecret:!1,onSetValue:e=>{/^\d*$/.test(e)&&c(e)},currentValue:t,placeholder:v("innPlaceholder"),errorValue:0!==t.length&&t.length<9?v("innError"):"",title:(0,a.jsx)("p",{className:"".concat(o().input__title),children:v("inn")})}),(0,a.jsxs)("div",{className:"".concat(o().some__drop__box),children:[(0,a.jsx)("p",{className:"".concat(o().input__title),children:v("companyCountryes")}),(0,a.jsx)(j.A,{options:y,selectedValues:l,onChange:p,placeholder:v("companyCountryesPlaceholder"),direction:m&&void 0!==_&&_<1050?"bottom":"left"})]}),(0,a.jsx)(x.A,{extraClass:"".concat(o().inputs__text_extra," ").concat(0!==n.length&&n.length<3&&o().extra__name__class),isSecret:!1,onSetValue:u,currentValue:n,placeholder:v("companyNamePlaceholder"),title:(0,a.jsx)("p",{className:"".concat(o().input__title),children:v("companyName")})}),(0,a.jsxs)("div",{className:"".concat(o().some__drop__box),children:[(0,a.jsx)("p",{className:"".concat(o().input__title," ").concat(o().input__title__tel),children:v("companyTel")}),(0,a.jsx)(C.Vl,{currentValue:r,error:i?"":"error",onSetValue:d,numberStartWith:b})]}),(0,a.jsx)("button",{onClick:h,className:"".concat(o().form__button),disabled:t.length<9||n.length<3||!i||0===l.length,style:{opacity:t.length<9||n.length<3||!i||0===l.length?.7:1},children:v("next")})]})};var w=n(63974),k=n(60584);let P=e=>{var t;let{email:n,adress:r,password:l,selectedOption:i,selectedCategories:c,setEmail:u,setPassword:d,setSelectedCategories:p,handleOptionChange:h,onBack:m,onNext:g,setAdress:v}=e,y=n.includes("@")&&n.includes(".")&&(null==n?void 0:n.length)!==0,b="Personal"===i&&y&&(null==l?void 0:l.length)>=6,[C,S]=(0,s.useState)(!1),P=(0,N.A)(),R=(0,k.f4)(),E=(0,w.Ck)(R);(0,s.useEffect)(()=>{S(!0)},[]);let T=(0,f.c3)("RegisterUserPage");return(0,a.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",gap:"22px"},children:[(0,a.jsx)(x.A,{extraClass:"".concat(o().inputs__text_extra," ").concat(o().inputs__text_extra__min__height," ").concat(y||(null==n?void 0:n.length)===0?"":o().extra__email__error),extraStyle:{width:"100%"},isSecret:!1,autoComplete:"on",inputType:"email",onSetValue:u,currentValue:n,errorValue:y||(null==n?void 0:n.length)===0?"":T("emailError"),placeholder:T("corporateEmailPlaceholder"),title:(0,a.jsx)("p",{className:"".concat(o().input__title),children:T("corporateEmail")})}),(0,a.jsx)(x.A,{extraClass:"".concat(o().inputs__text_extra," ").concat(o().inputs__text_extra__min__height,"  ").concat(o().inputs__text_extra_2),isSecret:!0,onSetValue:d,currentValue:l,errorValue:(null==l?void 0:l.length)<6&&(null==l?void 0:l.length)!==0?T("passwordError"):"",placeholder:T("passwordPlaceholder"),title:(0,a.jsx)("p",{className:"".concat(o().input__title),children:T("password")})}),(0,a.jsx)(x.A,{extraClass:"".concat(o().inputs__text_extra," ").concat(o().inputs__text_extra__min__height," ").concat(o().inputs__text_extra_2),onSetValue:v,currentValue:r,placeholder:T("adressPlaceholder"),title:(0,a.jsx)("p",{className:"".concat(o().input__title," ").concat(o().input__title__without),children:T("adress")})}),(0,a.jsxs)("div",{className:"".concat(o().some__drop__box),style:{marginTop:"16px",marginBottom:"16px"},children:[(0,a.jsx)("p",{className:"".concat(o().input__title," ").concat(o().input__title__tel),children:T("categories")}),(0,a.jsx)(j.A,{showSearchInput:!0,extraClass:o().profile__region__dropdown__extra,extraDropListClass:o().extra_extraDropListClass,options:null==(t=(null==E?void 0:E.data)||[])?void 0:t.map(e=>{var t;return{id:e.id,label:e.name,value:e.name,imageUrl:null==e?void 0:e.imageUrl,children:null==(t=e.children)?void 0:t.map(e=>{var t;return{id:e.id,label:e.name,value:e.name,imageUrl:null==e?void 0:e.imageUrl,children:null==(t=e.children)?void 0:t.map(e=>{var t;return{id:null==e?void 0:e.id,label:null==e?void 0:e.name,value:null==e?void 0:e.name,imageUrl:null==e?void 0:e.imageUrl,children:null==e||null==(t=e.children)?void 0:t.map(e=>({id:null==e?void 0:e.id,label:null==e?void 0:e.name,value:null==e?void 0:e.name,imageUrl:null==e?void 0:e.imageUrl}))}})}})}}),isCategories:!0,selectedValues:c,onChange:e=>{p(e)},placeholder:T("categoriesPlaceholder"),direction:C&&void 0!==P&&P<1050?"bottom":"left"}),(0,a.jsx)("p",{className:"".concat(o().input__subtitle),style:{marginTop:"8px"},children:T("categoriesSubtext")})]}),(0,a.jsx)(_.A,{label:T("checkPolicy"),name:"Business",value:"Personal",checked:"Personal"===i,onChange:h,textColor:"dark",allowUnchecked:!0,extraStyle:{marginTop:"6px"}}),(0,a.jsxs)("span",{className:"".concat(o().buttons__box),children:[(0,a.jsx)("button",{onClick:m,className:"".concat(o().back_step_button),children:(0,a.jsx)("svg",{style:{transform:"rotate(180deg)"},width:"35px",height:"35px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,a.jsx)("button",{style:{opacity:b?1:.7,pointerEvents:b?"auto":"none"},className:"".concat(o().checked__email),onClick:g,children:T("emailNext")})]})]})},R=e=>{let{inn:t,name:n,password:r,telText:o,email:l,selectedOption:s,isValidNumber:i,selectedCountries:c,selectedCategories:u,setInn:d,setName:p,setPassword:h,setTelText:m,setEmail:g,setIsValidNumber:x,setSelectedCountries:_,setSelectedCategories:f,handleNameChange:v,onChangeTelNumber:y,handleOptionChange:b,showNextStep:C,onSubmitFirstStep:j,onSubmitSecondStep:N,handleBackToFirst:w,adress:k,setAdress:R}=e;return C?(0,a.jsx)(P,{adress:k,setAdress:R,email:l,password:r,selectedOption:s,selectedCategories:u,setEmail:g,setPassword:h,setSelectedCategories:f,handleOptionChange:b,onBack:w,onNext:N}):(0,a.jsx)(S,{inn:t,name:n,telText:o,selectedCountries:c,isValidNumber:i,setInn:d,setName:p,setTelText:m,setSelectedCountries:_,setIsValidNumber:x,handleNameChange:v,onChangeTelNumber:y,onSubmit:j})};var E=n(29795),T=n(70724);let V=e=>{let{categories:t}=e,n=(0,h.useRouter)(),r=(0,h.useSearchParams)(),c=(0,f.c3)("RegisterUserPage"),[x,_]=(0,s.useState)(!1),[y,C]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1),[S,w]=(0,s.useState)(!0),[P,V]=(0,s.useState)(""),[A,L]=(0,s.useState)(""),[O,$]=(0,s.useState)(""),[M,U]=(0,s.useState)(""),[B,D]=(0,s.useState)(""),[I,F]=(0,s.useState)(""),[z,G]=(0,s.useState)(""),[H,K]=(0,s.useState)(""),W=(0,k.f4)(),[q,J]=(0,s.useState)(!1),[Y,Q]=(0,s.useState)(null),[X,Z]=(0,s.useState)(!0),[ee,et]=(0,s.useState)({imageSrc:"/countries/russia.svg",title:c("Russia"),altName:"Russia"}),[en,ea]=(0,s.useState)(""),[er,eo]=(0,s.useState)([]),[el,es]=(0,s.useState)([]),[ei,ec]=(0,s.useState)(""),{setRegion:eu,setPassword:ed,setNumber:ep,setName:eh}=(0,i.d)();(0,s.useEffect)(()=>{D(M.replace(/\D/g,""))},[M]),(0,s.useEffect)(()=>{let e=null==r?void 0:r.get("email"),t=null==r?void 0:r.get("picture"),o=null==r?void 0:r.get("accessToken"),l=null==r?void 0:r.get("refreshToken"),s=null==r?void 0:r.get("telegram_id"),i=null==r?void 0:r.get("username"),u=null==r?void 0:r.get("first_name"),h=null==r?void 0:r.get("last_name");if(o&&l){(0,p.oA)({accessToken:o,refreshToken:l}),n.replace("/");return}if((async()=>{try{if(console.log("start fetch to tg"),!s&&!u)return;await d.Rh.post("oauth2/telegram/callback",{id:s||"",lastName:h||"",firstName:u||"",photoUrl:t||"",authDate:"",hash:""}),m.o.success((0,a.jsxs)("div",{style:{lineHeight:1.5,marginLeft:"10px"},children:[(0,a.jsx)("strong",{style:{display:"block",marginBottom:4,fontSize:"18px"},children:c("successTitleTG")}),(0,a.jsx)("span",{children:c("successBodyTG")})]}),{style:{background:"#2E7D32"}})}catch(e){m.o.error((0,a.jsxs)("div",{style:{lineHeight:1.5},children:[(0,a.jsx)("strong",{style:{display:"block",marginBottom:4},children:c("errorTitleTG")}),(0,a.jsx)("span",{children:c("errorPrefixTG")})]}),{style:{background:"#AC2525"}})}})(),e&&V(decodeURIComponent(e)),t&&K(decodeURIComponent(t)),i&&L(decodeURIComponent(i)),!i&&(u||h)){let e=u?decodeURIComponent(u):"",t=h?decodeURIComponent(h):"",n="".concat(e," ").concat(t).trim();n&&L(n)}},[r,n]),(0,s.useEffect)(()=>{C(!1),N(!1);let e=null==r?void 0:r.get("email"),t=null==r?void 0:r.get("picture"),n=null==r?void 0:r.get("username"),a=null==r?void 0:r.get("first_name"),o=null==r?void 0:r.get("last_name");e||V(""),t||K(""),n||a||o||L(""),$(""),U(""),G(""),ea(""),eo([]),es([])},[S,r]);let em=e=>{G(t=>t===e.target.value?"":e.target.value)},eg=e=>{let t=e.replace(/\D/g,""),n="Russia";S?n=ee.altName:er.length>0&&(n=1===er.length?er[0].value:"other");let a=((e,t)=>{let n=e.replace(/\D/g,"");if(0===n.length)return!0;switch(t){case"Belarus":return 9===n.length;case"China":return 11===n.length;case"Russia":case"Kazakhstan":return n.length>=7;default:return n.length>=1}})(t,n);console.log("isValid",a,"countryForValidation",n),U(e),Z(a),D(t)},ex=e=>{Q(null),L(e)},e_=e=>{switch(e){case"Belarus":return"+375";case"China":return"+86";case"Russia":case"Kazakhstan":return"+7";default:return"+"}},ef=e=>{w("user"===e),_(!0)},ev=e=>{e.preventDefault(),S?A.length<3||!X||O.length<6||(ed(O),ep(B),eh(A),eu(ee.altName),C(!0)):en.length<9||A.length<3||!X||0===er.length||(ep(B),eh(A),C(!0))},ey=async e=>{e.preventDefault(),S||ed(O);try{let e=B;S?e=e_(ee.altName)+B:er.length>0&&(e=e_(er[0].value)+B);let t=S?{email:P,login:A,password:O,region:ee.altName,phoneNumber:(null==e?void 0:e.length)<=4?"":e,avatarUrl:H}:{email:P,login:A,inn:en,address:ei||"",password:O,countries:er.map(e=>e.value),productCategories:el.map(e=>e.value),phoneNumber:(null==e?void 0:e.length)<=4?"":e,avatarUrl:H};d.Rh.post(S?"/auth/register":"/auth/register-vendor",t,{headers:{"Accept-Language":W}}),C(!1),N(!0)}catch(l){var t,n,r,o;console.error("Registration failed:",null==(n=l.response)||null==(t=n.data)?void 0:t.message);let e=(null==(o=l.response)||null==(r=o.data)?void 0:r.message)||c("defaultRegisterError");m.o.error((0,a.jsxs)("div",{style:{lineHeight:1.5,marginLeft:"10px"},children:[(0,a.jsx)("strong",{style:{display:"block",marginBottom:4,fontSize:"18px"},children:c("defaultRegisterError")}),(0,a.jsx)("span",{children:e})]}),{style:{background:"#AC2525"}})}},{refetch:eb}=(0,T.tg)(),eC=async e=>{e.preventDefault();try{let{data:e}=await d.Rh.post("/auth/verify-email",{email:P,code:I},{headers:{"Accept-Language":W}}),{accessToken:t,refreshToken:a}=e;(0,p.oA)({accessToken:t,refreshToken:a}),await eb(),n.push("/")}catch(e){console.log(e)}},ej=e=>{e.preventDefault(),C(!1),N(!1)};return(0,a.jsxs)("div",{className:"".concat(o().login__box),children:[(0,a.jsx)(l.A,{categories:t}),(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"".concat(o().login__inner),children:[(0,a.jsx)("div",{className:o().decor__image}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault()},className:"".concat(o().login__form__box),children:[!x&&(0,a.jsx)(()=>(0,a.jsxs)("div",{className:o().user_type_selection,children:[(0,a.jsx)("h2",{className:o().login__title,children:c("chooseUserType")||"Выберите тип аккаунта"}),(0,a.jsxs)("div",{className:o().user_type_buttons,children:[(0,a.jsx)("button",{className:"".concat(o().user_type_button," ").concat(o().buyer_button),onClick:()=>ef("user"),children:(0,a.jsx)("span",{className:o().button_text,children:c("imBuyer")||"Я покупатель"})}),(0,a.jsx)("button",{className:"".concat(o().user_type_button," ").concat(o().exporter_button),onClick:()=>ef("company"),children:(0,a.jsx)("span",{className:o().button_text,children:c("imExporter")||"Я компания Экспортер"})}),(0,a.jsx)(u(),{href:"/login",className:o().login_link_button,children:c("haveAccount")||"Есть аккаунт? Войти!"})]})]}),{}),x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"".concat(o().top__links),children:[(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),w(!S)},className:"".concat(o().toggle__action__button),children:S?c("imVendor"):c("imUser")}),(0,a.jsx)(u(),{href:"/login",className:"".concat(o().toggle__action__button),children:c("haveAccount")})]}),(0,a.jsx)("h2",{className:"".concat(o().login__title),children:S?c("registerTitle"):c("registerTitleCompany")}),(0,a.jsxs)("div",{className:"".concat(o().inputs__box),children:[S&&!y&&!j&&(0,a.jsx)(g.A,{name:A,password:O,telText:M,selectedRegion:ee,listIsOpen:q,isValidNumber:X,setName:L,setPassword:$,setTelText:U,setSelectedRegion:et,setListIsOpen:J,setIsValidNumber:Z,handleNameChange:ex,onChangeTelNumber:eg,onSubmit:ev}),S&&y&&!j&&(0,a.jsx)(v,{email:P,selectedOption:z,setEmail:V,handleOptionChange:em,onBack:ej,onNext:ey}),!S&&!j&&(0,a.jsx)(R,{inn:en,adress:ei,setAdress:ec,name:A,password:O,telText:M,email:P,selectedOption:z,isValidNumber:X,selectedCountries:er,selectedCategories:el,setInn:ea,setName:L,setPassword:$,setTelText:U,setEmail:V,setIsValidNumber:Z,setSelectedCountries:eo,setSelectedCategories:es,handleNameChange:ex,onChangeTelNumber:eg,handleOptionChange:em,showNextStep:y,onSubmitFirstStep:ev,onSubmitSecondStep:ey,handleBackToFirst:ej}),j&&(0,a.jsx)(b,{email:P,otpValue:I,setOtpValue:F,handleOtpComplete:e=>{F(e)},onBack:e=>{e.preventDefault(),C(!0),N(!1)},onConfirm:eC})]})]})]})]})}),(0,a.jsx)(E.default,{extraClass:"".concat(o().extraFooter)})]})}}},e=>{e.O(0,[5370,1280,5748,7444,2550,7845,1699,6671,9162,3236,2895,6607,8441,5964,7358],()=>e(e.s=59789)),_N_E=e.O()}]);